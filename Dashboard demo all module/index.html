<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowWork - Complete AI Assistant Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* 🎨 FlowWork Minimal Color System */
        :root {
            --primary: #7c3aed;
            --primary-light: #8b5cf6;
            --primary-dark: #6d28d9;
            --purple-50: #faf5ff;
            --purple-100: #f3e8ff;
            --purple-500: #a855f7;
            --purple-600: #9333ea;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --green-500: #10b981;
            --green-600: #059669;
            --orange-500: #f59e0b;
            --orange-600: #d97706;
            --red-500: #ef4444;
            --red-600: #dc2626;
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            background: var(--gray-50);
            font-family: 'Noto Sans Thai', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 14px;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            line-height: 1.5;
        }
        
        /* System Alert */
        .system-alert {
            background: linear-gradient(135deg, var(--green-600) 0%, var(--green-500) 100%);
            color: white;
            text-align: center;
            padding: 10px 20px;
            font-size: 13px;
            font-weight: 500;
            height: 36px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }
        
        /* Header */
        .top-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--gray-200);
            position: fixed;
            top: 36px;
            left: 0;
            right: 0;
            z-index: 999;
            height: 64px;
        }
        
        /* Layout */
        .main-container {
            display: flex;
            min-height: 100vh;
            padding-top: 100px;
        }
        
        .sidebar {
            background: white;
            border-right: 1px solid var(--gray-200);
            width: 280px;
            position: fixed;
            top: 100px;
            left: 0;
            bottom: 0;
            z-index: 998;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        
        .content-area {
            flex: 1;
            margin-left: 280px;
            margin-right: 340px;
            min-height: calc(100vh - 100px);
            overflow-x: hidden;
            padding: 24px;
        }
        
        .right-panel {
            background: white;
            border-left: 1px solid var(--gray-200);
            width: 340px;
            position: fixed;
            top: 100px;
            right: 0;
            bottom: 0;
            z-index: 997;
            overflow-y: auto;
        }
        
        /* FIX 1: Dashboard - AI Models Sidebar Display */
        .ai-model-performance {
            background: white;
            border: 2px solid var(--purple-200);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .ai-model-performance h4 {
            color: var(--purple-900);
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .model-performance-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: var(--purple-50);
            border-radius: 12px;
            margin-bottom: 8px;
            border: 1px solid var(--purple-100);
        }
        
        /* Navigation */
        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-radius: 12px;
            color: var(--gray-600);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 4px;
            transition: all 0.2s ease;
            position: relative;
            white-space: nowrap;
        }
        
        .menu-item:hover {
            background: var(--gray-100);
            color: var(--gray-900);
            transform: translateX(2px);
        }
        
        .menu-item.active {
            background: linear-gradient(135deg, var(--purple-100) 0%, var(--purple-50) 100%);
            color: var(--primary);
            font-weight: 600;
        }
        
        .menu-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 20px;
            background: var(--primary);
            border-radius: 0 4px 4px 0;
        }
        
        /* AI Model Selector - Header */
        .ai-model-selector {
            background: var(--purple-50);
            border: 2px solid #e0e7ff;
            border-radius: 12px;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .ai-model-selector:hover {
            border-color: var(--primary);
            background: var(--purple-100);
        }
        
        .ai-model-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            box-shadow: 0 4px 16px 0 rgb(0 0 0 / 0.12);
            z-index: 100;
            margin-top: 4px;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }
        
        .ai-model-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .ai-model-option {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid var(--gray-100);
        }
        
        .ai-model-option:hover {
            background: var(--purple-50);
        }
        
        .ai-model-option.selected {
            background: var(--purple-100);
            color: var(--primary);
        }
        
        /* FIX 4: AI Research - Model Selector in Header */
        .research-header-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 24px;
            padding: 16px 20px;
            background: white;
            border-radius: 16px;
            border: 2px solid var(--purple-200);
        }
        
        .research-model-selector {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--purple-50);
            padding: 8px 16px;
            border-radius: 12px;
            border: 2px solid var(--purple-200);
        }
        
        /* FIX 4: AI Research - Suggestion Categories */
        .suggestion-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .suggestion-category {
            background: white;
            border: 2px solid var(--purple-200);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .suggestion-category:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(124, 58, 237, 0.15);
        }
        
        .suggestion-category h3 {
            color: var(--purple-900);
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .suggestion-item {
            background: var(--purple-50);
            border: 1px solid var(--purple-200);
            border-radius: 12px;
            padding: 12px 16px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .suggestion-item:hover {
            background: var(--purple-100);
            border-color: var(--primary);
        }
        
        .suggestion-item:last-child {
            margin-bottom: 0;
        }
        
        /* Search */
        .search-enhanced {
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: 16px;
            transition: all 0.3s ease;
            font-size: 14px;
            box-shadow: 0 2px 8px 0 rgb(0 0 0 / 0.08);
        }
        
        .search-enhanced:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.1);
            outline: none;
        }
        
        /* Components */
        .context-zone {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px 0 rgb(0 0 0 / 0.08);
            border: 1px solid var(--gray-200);
            transition: all 0.3s ease;
        }
        
        .context-zone:hover {
            box-shadow: 0 4px 16px 0 rgb(0 0 0 / 0.12);
            border-color: var(--gray-300);
        }
        
        .context-zone.ai-active {
            border-left: 4px solid var(--primary);
            background: linear-gradient(135deg, var(--purple-50) 0%, white 100%);
        }
        
        .dashboard-widget {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px 0 rgb(0 0 0 / 0.08);
            border: 1px solid var(--gray-200);
            transition: all 0.3s ease;
        }
        
        .dashboard-widget:hover {
            box-shadow: 0 4px 16px 0 rgb(0 0 0 / 0.12);
            transform: translateY(-1px);
        }
        
        .quick-action-card {
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .quick-action-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px 0 rgb(0 0 0 / 0.12);
        }
        
        /* FIX 2: Live Recording - Post Recording Summary */
        .recording-summary {
            background: linear-gradient(135deg, var(--green-50) 0%, var(--blue-50) 100%);
            border: 2px solid var(--green-200);
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        
        .recording-summary.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .summary-stat {
            background: white;
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            border: 1px solid var(--green-200);
        }
        
        /* Mobile */
        @media (max-width: 1280px) {
            .right-panel { display: none; }
            .content-area { margin-right: 0; }
        }
        
        @media (max-width: 768px) {
            .sidebar { transform: translateX(-100%); }
            .sidebar.mobile-show { transform: translateX(0); }
            .content-area { margin-left: 0; padding: 16px; }
            .suggestion-categories { grid-template-columns: 1fr; }
        }
    </style>
</head>

<script>
    // 🎯 FlowWork Complete Navigation System - Fixed Version
    let currentView = 'dashboard';
    let isRecording = false;
    let recordingTimer = 0;
    let recordingInterval;
    let selectedAIModel = 'GPT-4';
    let aiModelDropdownOpen = false;
    let recordingSummary = null; // FIX 2: Recording summary data
    
    // 🧭 Complete Navigation Functions (ครบทุกอัน)
    function showDashboard() {
        console.log('📊 Loading Dashboard...');
        hideAllViews();
        showView('dashboard');
        updateActiveMenu('dashboard');
        showNotification('Dashboard loaded', 'success');
    }
    
    function showAIResearch() {
        console.log('🔍 Loading AI Research...');
        hideAllViews();
        showView('ai-research');
        updateActiveMenu('ai-research');
        showNotification('AI Research ready - Multi-model search available', 'info');
    }
    
    function showDocuments() {
        console.log('📄 Loading Documents...');
        hideAllViews();
        showView('documents');
        updateActiveMenu('documents');
        showNotification('📄 Documents module loaded', 'info');
    }
    
    function showTeamWorkspace() {
        console.log('👥 Loading Team Workspace...');
        hideAllViews();
        showView('team-workspace');
        updateActiveMenu('team-workspace');
        showNotification('👥 Team Workspace loaded', 'info');
    }
    
    function showMeetingHub() {
        console.log('🎯 Loading Meeting Hub...');
        hideAllViews();
        showView('meeting-hub');
        updateActiveMenu('meeting-hub');
        showNotification('🎯 Meeting Hub loaded', 'info');
    }
    
    // 🎙️ Live Recording Functions - FIX 2 & 3
    function startLiveRecording() {
        console.log('🎙️ Starting Live Recording...');
        if (isRecording) {
            showNotification('Recording already in progress!', 'warning');
            return;
        }
        
        hideAllViews();
        showView('live-recording');
        updateActiveMenu('live-recording');
        
        isRecording = true;
        recordingTimer = 0;
        recordingSummary = {
            startTime: new Date(),
            transcriptions: [],
            speakers: new Set(),
            keyPoints: [],
            actionItems: []
        };
        
        // Create live recording interface
        createLiveRecordingInterface();
        
        recordingInterval = setInterval(() => {
            recordingTimer++;
            updateRecordingTimer();
            
            // Simulate transcription
            if (recordingTimer % 8 === 0) {
                simulateLiveTranscription();
            }
            
            // Generate insights
            if (recordingTimer % 15 === 0) {
                generateMeetingInsights();
            }
        }, 1000);
        
        showNotification('🎙️ Live recording started! AI processing in real-time.', 'success');
    }
    
    // FIX 2: Enhanced Stop Recording with Summary
    function stopLiveRecording() {
        if (!isRecording) return;
        
        isRecording = false;
        clearInterval(recordingInterval);
        
        // Calculate summary data
        const duration = recordingTimer;
        const endTime = new Date();
        
        recordingSummary.endTime = endTime;
        recordingSummary.duration = duration;
        recordingSummary.efficiency = Math.floor(Math.random() * 20) + 80; // 80-100%
        
        showNotification('⏹️ Recording stopped. Generating AI summary...', 'info');
        
        // Show processing indicator
        showRecordingProcessing();
        
        setTimeout(() => {
            showRecordingSummary();
            showNotification('📋 Meeting summary ready!', 'success');
        }, 3000);
    }
    
    // FIX 2: Show Recording Processing
    function showRecordingProcessing() {
        const contentArea = document.getElementById('contentArea');
        const processingDiv = document.createElement('div');
        processingDiv.id = 'recordingProcessing';
        processingDiv.className = 'recording-summary';
        processingDiv.innerHTML = `
            <div class="text-center">
                <div class="animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto mb-4"></div>
                <h3 class="text-xl font-bold text-gray-900 mb-2">Processing Meeting with AI</h3>
                <p class="text-gray-600 mb-4">Analyzing ${recordingTimer} seconds of audio...</p>
                <div class="flex justify-center space-x-8 text-sm">
                    <div class="flex items-center space-x-2">
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                        <span>Transcribing speech</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <div class="w-2 h-2 bg-blue-500 rounded-full animate-pulse"></div>
                        <span>Identifying speakers</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <div class="w-2 h-2 bg-purple-500 rounded-full animate-pulse"></div>
                        <span>Extracting insights</span>
                    </div>
                </div>
            </div>
        `;
        
        const existingProcessing = document.getElementById('recordingProcessing');
        if (existingProcessing) {
            existingProcessing.remove();
        }
        
        contentArea.appendChild(processingDiv);
        setTimeout(() => processingDiv.classList.add('show'), 100);
    }
    
    // FIX 2: Show Recording Summary
    function showRecordingSummary() {
        const contentArea = document.getElementById('contentArea');
        const processingDiv = document.getElementById('recordingProcessing');
        if (processingDiv) processingDiv.remove();
        
        const summaryDiv = document.createElement('div');
        summaryDiv.className = 'recording-summary show';
        summaryDiv.innerHTML = `
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-gray-900 flex items-center">
                    <i class="fas fa-check-circle text-green-600 mr-3"></i>
                    Meeting Summary Ready
                </h2>
                <button onclick="showDashboard()" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors">
                    <i class="fas fa-times mr-2"></i>Close
                </button>
            </div>
            
            <div class="summary-stats">
                <div class="summary-stat">
                    <div class="text-3xl font-bold text-blue-600 mb-2">${Math.floor(recordingSummary.duration / 60)}:${(recordingSummary.duration % 60).toString().padStart(2, '0')}</div>
                    <div class="text-sm text-gray-600">Duration</div>
                </div>
                <div class="summary-stat">
                    <div class="text-3xl font-bold text-green-600 mb-2">${recordingSummary.transcriptions.length}</div>
                    <div class="text-sm text-gray-600">Statements</div>
                </div>
                <div class="summary-stat">
                    <div class="text-3xl font-bold text-purple-600 mb-2">${recordingSummary.speakers.size}</div>
                    <div class="text-sm text-gray-600">Speakers</div>
                </div>
                <div class="summary-stat">
                    <div class="text-3xl font-bold text-orange-600 mb-2">${recordingSummary.efficiency}%</div>
                    <div class="text-sm text-gray-600">Efficiency</div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-lg p-6 border border-green-200">
                    <h3 class="font-semibold text-green-900 mb-4 flex items-center">
                        <i class="fas fa-lightbulb text-green-600 mr-2"></i>
                        Key Insights
                    </h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-start space-x-2">
                            <i class="fas fa-check text-green-600 mt-1"></i>
                            <span>งบประมาณ Q4 ได้รับการอนุมัติ</span>
                        </li>
                        <li class="flex items-start space-x-2">
                            <i class="fas fa-check text-green-600 mt-1"></i>
                            <span>กำหนดการประชุมครั้งถัดไป: สัปดาห์หน้า</span>
                        </li>
                        <li class="flex items-start space-x-2">
                            <i class="fas fa-check text-green-600 mt-1"></i>
                            <span>ผลงานทีมพัฒนาอยู่ในเป้าหมาย</span>
                        </li>
                    </ul>
                </div>
                
                <div class="bg-white rounded-lg p-6 border border-blue-200">
                    <h3 class="font-semibold text-blue-900 mb-4 flex items-center">
                        <i class="fas fa-tasks text-blue-600 mr-2"></i>
                        Action Items
                    </h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-start space-x-2">
                            <i class="fas fa-circle text-blue-600 mt-1 text-xs"></i>
                            <span>โล่: จัดทำรายงานงบประมาณ</span>
                        </li>
                        <li class="flex items-start space-x-2">
                            <i class="fas fa-circle text-blue-600 mt-1 text-xs"></i>
                            <span>เอ: อัปเดตความคืบหน้าโครงการ</span>
                        </li>
                        <li class="flex items-start space-x-2">
                            <i class="fas fa-circle text-blue-600 mt-1 text-xs"></i>
                            <span>บี: เตรียมการนำเสนอลูกค้า</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-6 flex justify-center space-x-4">
                <button onclick="exportSummaryToWord()" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                    <i class="fab fa-microsoft mr-2"></i>Export to Word
                </button>
                <button onclick="shareWithTeam()" class="bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors">
                    <i class="fas fa-share-alt mr-2"></i>Share with Team
                </button>
                <button onclick="addToActionItems()" class="bg-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-purple-700 transition-colors">
                    <i class="fas fa-plus mr-2"></i>Add to Action Items
                </button>
            </div>
        `;
        
        contentArea.appendChild(summaryDiv);
    }
    
    function showUploadRecording() {
        console.log('📤 Loading Upload Recording...');
        hideAllViews();
        showView('upload-recording');
        updateActiveMenu('upload-recording');
        createUploadInterface();
        showNotification('📤 Upload Recording ready', 'info');
    }
    
    function showMeetingChat() {
        console.log('💬 Loading Meeting Chat...');
        hideAllViews();
        showView('meeting-chat');
        updateActiveMenu('meeting-chat');
        createMeetingChatInterface();
        showNotification('💬 Meeting AI Chat ready', 'info');
    }
    
    function showActionItems() {
        console.log('✅ Loading Action Items...');
        hideAllViews();
        showView('action-items');
        updateActiveMenu('action-items');
        createActionItemsInterface();
        showNotification('✅ Action Items loaded', 'info');
    }
    
    function showAnalytics() {
        console.log('📊 Loading Analytics...');
        hideAllViews();
        showView('analytics');
        updateActiveMenu('analytics');
        createAnalyticsInterface();
        showNotification('📊 Analytics dashboard ready', 'info');
    }
    
    function showIntegrations() {
        console.log('🔗 Loading Integrations...');
        hideAllViews();
        showView('integrations');
        updateActiveMenu('integrations');
        createIntegrationsInterface();
        showNotification('🔗 Integrations panel loaded', 'info');
    }
    
    function showSettings() {
        console.log('⚙️ Loading Settings...');
        hideAllViews();
        showView('settings');
        updateActiveMenu('settings');
        createSettingsInterface();
        showNotification('⚙️ Settings panel ready', 'info');
    }
    
    // 🛠️ View Management
    function hideAllViews() {
        const contentArea = document.getElementById('contentArea');
        if (contentArea) {
            contentArea.innerHTML = ''; // Clear existing content
        }
    }
    
    function showView(viewName) {
        const contentArea = document.getElementById('contentArea');
        currentView = viewName;
        
        // Based on view, create appropriate interface
        switch(viewName) {
            case 'dashboard':
                createDashboardInterface();
                break;
            case 'ai-research':
                createAIResearchInterface();
                break;
            case 'documents':
                createDocumentsInterface();
                break;
            case 'team-workspace':
                createTeamWorkspaceInterface();
                break;
            case 'meeting-hub':
                createMeetingHubInterface();
                break;
            case 'live-recording':
                // Will be created in startLiveRecording()
                break;
            case 'upload-recording':
                // Will be created in showUploadRecording()
                break;
            case 'meeting-chat':
                // Will be created in showMeetingChat()
                break;
            case 'action-items':
                // Will be created in showActionItems()
                break;
            case 'analytics':
                // Will be created in showAnalytics()
                break;
            case 'integrations':
                // Will be created in showIntegrations()
                break;
            case 'settings':
                // Will be created in showSettings()
                break;
            default:
                createDefaultInterface(viewName);
        }
    }
    
    // 🎨 Interface Creators
    // FIX 1: Dashboard Interface - Fixed AI Models Display
    function createDashboardInterface() {
        const contentArea = document.getElementById('contentArea');
        contentArea.innerHTML = `
            <div class="dashboard-view">
                <!-- Quick Stats -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm border-l-4 border-l-red-500">
                       <div class="flex items-center justify-between mb-4">
                           <h3 class="font-semibold text-gray-900">Today's Priority</h3>
                           <i class="fas fa-exclamation-circle text-red-500"></i>
                       </div>
                       <div class="text-3xl font-bold text-red-600 mb-2">3</div>
                       <p class="text-sm text-gray-600 mb-3">Urgent tasks pending</p>
                       <div class="text-xs text-red-600 font-medium">Budget Report Due: 2 hours</div>
                   </div>
                   
                   <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm border-l-4 border-l-purple-500">
                       <div class="flex items-center justify-between mb-4">
                           <h3 class="font-semibold text-gray-900">AI Usage</h3>
                           <i class="fas fa-brain text-purple-500"></i>
                       </div>
                       <div class="text-3xl font-bold text-purple-600 mb-2">24</div>
                       <p class="text-sm text-gray-600 mb-3">Queries today</p>
                       <div class="flex items-center space-x-2">
                           <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                           <span class="text-xs text-green-600">45 credits saved</span>
                       </div>
                   </div>
                   
                   <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm border-l-4 border-l-green-500">
                       <div class="flex items-center justify-between mb-4">
                           <h3 class="font-semibold text-gray-900">Meeting Efficiency</h3>
                           <i class="fas fa-chart-line text-green-500"></i>
                       </div>
                       <div class="text-3xl font-bold text-green-600 mb-2">94%</div>
                       <p class="text-sm text-gray-600 mb-3">This week average</p>
                       <div class="text-xs text-green-600 font-medium">↑ 12% vs last week</div>
                   </div>
                   
                   <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm border-l-4 border-l-blue-500">
                       <div class="flex items-center justify-between mb-4">
                           <h3 class="font-semibold text-gray-900">Team Activity</h3>
                           <i class="fas fa-users text-blue-500"></i>
                       </div>
                       <div class="text-3xl font-bold text-blue-600 mb-2">8</div>
                       <p class="text-sm text-gray-600 mb-3">Members online</p>
                       <div class="flex -space-x-1">
                           <div class="w-6 h-6 bg-purple-500 rounded-full border-2 border-white"></div>
                           <div class="w-6 h-6 bg-blue-500 rounded-full border-2 border-white"></div>
                           <div class="w-6 h-6 bg-green-500 rounded-full border-2 border-white"></div>
                           <div class="w-6 h-6 bg-yellow-500 rounded-full border-2 border-white flex items-center justify-center text-xs text-white">+4</div>
                       </div>
                   </div>
               </div>
   
               <!-- AI Command Center -->
               <div class="bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-xl p-8 mb-8">
                   <div class="flex items-center justify-between mb-6">
                       <h2 class="text-xl font-bold text-gray-900 flex items-center">
                           <i class="fas fa-rocket text-purple-600 mr-3"></i>
                           AI Command Center
                           <span class="ml-3 bg-purple-100 text-purple-600 text-xs px-3 py-1 rounded-full font-medium">All Models Ready</span>
                       </h2>
                       <div class="bg-purple-100 text-purple-600 px-3 py-1 rounded-full text-xs font-medium">AI Active</div>
                   </div>
   
                   <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                       <div class="bg-white border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-300 hover:shadow-md transition-all" onclick="showAIResearch()">
                           <div class="flex items-center space-x-3">
                               <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
                                   <i class="fas fa-search text-purple-600"></i>
                               </div>
                               <div>
                                   <h3 class="font-semibold text-gray-900">AI Research</h3>
                                   <p class="text-sm text-gray-600">Deep analysis & insights</p>
                               </div>
                           </div>
                       </div>
   
                       <div class="bg-white border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-blue-300 hover:shadow-md transition-all" onclick="startLiveRecording()">
                           <div class="flex items-center space-x-3">
                               <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                                   <i class="fas fa-microphone text-blue-600"></i>
                               </div>
                               <div>
                                   <h3 class="font-semibold text-gray-900">Meeting Analysis</h3>
                                   <p class="text-sm text-gray-600">Record & transcribe</p>
                               </div>
                           </div>
                       </div>
   
                       <div class="bg-white border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-green-300 hover:shadow-md transition-all" onclick="showDocuments()">
                           <div class="flex items-center space-x-3">
                               <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                                   <i class="fas fa-edit text-green-600"></i>
                               </div>
                               <div>
                                   <h3 class="font-semibold text-gray-900">Smart Editor</h3>
                                   <p class="text-sm text-gray-600">AI-powered writing</p>
                               </div>
                           </div>
                       </div>
                   </div>
                   
                   <!-- FIX 1: AI Model Performance - Fixed Layout -->
                   <div class="ai-model-performance">
                       <h4 class="font-semibold text-purple-900 mb-4 flex items-center">
                           <i class="fas fa-chart-bar text-purple-600 mr-2"></i>
                           AI Model Performance Today
                       </h4>
                       <div class="space-y-3">
                           <div class="model-performance-item">
                               <div class="flex items-center space-x-3">
                                   <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                       <i class="fas fa-brain text-green-600 text-xs"></i>
                                   </div>
                                   <div>
                                       <div class="font-medium text-sm text-gray-900">GPT-4 Turbo</div>
                                       <div class="text-xs text-gray-500">12 queries • ฿0.96 spent</div>
                                   </div>
                               </div>
                               <div class="text-sm font-medium text-green-600">92% accuracy</div>
                           </div>
                           
                           <div class="model-performance-item">
                               <div class="flex items-center space-x-3">
                                   <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                       <i class="fas fa-robot text-blue-600 text-xs"></i>
                                   </div>
                                   <div>
                                       <div class="font-medium text-sm text-gray-900">Claude-3 Sonnet</div>
                                       <div class="text-xs text-gray-500">8 queries • ฿0.40 spent</div>
                                   </div>
                               </div>
                               <div class="text-sm font-medium text-blue-600">89% accuracy</div>
                           </div>
                           
                           <div class="model-performance-item">
                               <div class="flex items-center space-x-3">
                                   <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                       <i class="fas fa-gem text-purple-600 text-xs"></i>
                                   </div>
                                   <div>
                                       <div class="font-medium text-sm text-gray-900">Gemini Pro</div>
                                       <div class="text-xs text-gray-500">4 queries • ฿0.08 spent</div>
                                   </div>
                               </div>
                               <div class="text-sm font-medium text-purple-600">85% accuracy</div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       `;
   }
   
   // FIX 4: AI Research Interface - With Suggestion Categories & Fixed Model Selector
   function createAIResearchInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="ai-research-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-brain text-purple-600 mr-3"></i>
                       AI Research Intelligence
                   </h1>
               </div>
               
               <!-- FIX 4: Research Header with Model Selector -->
               <div class="research-header-controls">
                   <div>
                       <h2 class="text-lg font-semibold text-gray-900">Advanced AI Research</h2>
                       <p class="text-sm text-gray-600">Multi-model intelligence for deep analysis</p>
                   </div>
                   <div class="research-model-selector">
                       <div class="w-6 h-6 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-full flex items-center justify-center">
                           <i class="fas fa-brain text-white text-xs"></i>
                       </div>
                       <div>
                           <div class="font-semibold text-sm text-purple-900" id="currentResearchModel">GPT-4 Turbo</div>
                           <div class="text-xs text-purple-600">฿0.08/query • Best accuracy</div>
                       </div>
                       <button onclick="toggleResearchModelSelector()" class="text-purple-600 hover:text-purple-800">
                           <i class="fas fa-chevron-down text-xs"></i>
                       </button>
                   </div>
               </div>
   
               <div class="bg-white rounded-lg p-6 border-2 border-purple-200 shadow-sm mb-8">
                   <div class="relative">
                       <textarea 
                           id="researchQuery"
                           placeholder="Ask me anything... เช่น 'ขั้นตอนการขอจดทะเบียนธุรกิจใหม่ตามกฎหมายไทย'"
                           class="w-full h-24 p-4 border-2 border-gray-200 rounded-lg resize-none focus:border-purple-500 focus:outline-none"
                           onkeydown="handleResearchKeydown(event)"></textarea>
                       
                       <div class="absolute bottom-4 right-4 flex items-center space-x-3">
                           <span class="text-sm text-gray-500">Ctrl+Enter to search</span>
                           <button onclick="performAIResearch()" class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-lg font-medium hover:from-purple-700 hover:to-indigo-700 transition-all">
                               <i class="fas fa-paper-plane mr-2"></i>Research
                           </button>
                       </div>
                   </div>
               </div>
               
               <!-- FIX 4: Suggestion Categories -->
               <div class="suggestion-categories">
                   <div class="suggestion-category">
                       <h3 class="text-lg font-semibold text-purple-900 mb-4 flex items-center">
                           <i class="fas fa-building text-purple-600 mr-2"></i>
                           ธุรกิจและกฎหมาย
                       </h3>
                       <div class="suggestion-item" onclick="suggestedResearch('ขั้นตอนการขอจดทะเบียนธุรกิจใหม่ตามกฎหมายไทย')">
                           <div class="font-medium text-purple-900">การจดทะเบียนธุรกิจ</div>
                           <div class="text-sm text-purple-700">ขั้นตอนและเอกสารที่จำเป็น</div>
                       </div>
                       <div class="suggestion-item" onclick="suggestedResearch('กฎหมายแรงงาน 2567 การเปลี่ยนแปลงใหม่')">
                           <div class="font-medium text-purple-900">กฎหมายแรงงาน 2567</div>
                           <div class="text-sm text-purple-700">การปรับปรุงล่าสุด</div>
                       </div>
                       <div class="suggestion-item" onclick="suggestedResearch('ภาษีเงินได้นิติบุคคล อัตราและการคำนวณ')">
                           <div class="font-medium text-purple-900">ภาษีเงินได้นิติบุคคล</div>
                           <div class="text-sm text-purple-700">อัตราและการคำนวณ</div>
                       </div>
                   </div>
                   
                   <div class="suggestion-category">
                       <h3 class="text-lg font-semibold text-purple-900 mb-4 flex items-center">
                           <i class="fas fa-chart-line text-green-600 mr-2"></i>
                           การเงินและการลงทุน
                       </h3>
                       <div class="suggestion-item" onclick="suggestedResearch('การวิเคราะห์งบการเงิน อัตราส่วนทางการเงินที่สำคัญ')">
                           <div class="font-medium text-purple-900">การวิเคราะห์งบการเงิน</div>
                           <div class="text-sm text-purple-700">อัตราส่วนทางการเงินที่สำคัญ</div>
                       </div>
                       <div class="suggestion-item" onclick="suggestedResearch('แผนธุรกิจสำหรับ startup เริ่มต้นทำอย่างไร')">
                           <div class="font-medium text-purple-900">แผนธุรกิจ Startup</div>
                           <div class="text-sm text-purple-700">การเริ่มต้นทำอย่างไร</div>
                       </div>
                       <div class="suggestion-item" onclick="suggestedResearch('การหาแหล่งเงินทุน VC Angel Investor ในไทย')">
                           <div class="font-medium text-purple-900">แหล่งเงินทุน</div>
                           <div class="text-sm text-purple-700">VC และ Angel Investor</div>
                       </div>
                   </div>
                   
                   <div class="suggestion-category">
                       <h3 class="text-lg font-semibold text-purple-900 mb-4 flex items-center">
                           <i class="fas fa-laptop-code text-blue-600 mr-2"></i>
                           เทคโนโลยีและ AI
                       </h3>
                       <div class="suggestion-item" onclick="suggestedResearch('เทรนด์ AI ในปี 2025 ที่ธุรกิจไทยควรรู้')">
                           <div class="font-medium text-purple-900">เทรนด์ AI 2025</div>
                           <div class="text-sm text-purple-700">สำหรับธุรกิจไทย</div>
                       </div>
                       <div class="suggestion-item" onclick="suggestedResearch('การนำ AI มาใช้ในองค์กร กรณีศึกษาประเทศไทย')">
                           <div class="font-medium text-purple-900">AI ในองค์กร</div>
                           <div class="text-sm text-purple-700">กรณีศึกษาไทย</div>
                       </div>
                       <div class="suggestion-item" onclick="suggestedResearch('cybersecurity สำหรับ SME ไทย มาตรการป้องกันที่จำเป็น')">
                           <div class="font-medium text-purple-900">Cybersecurity SME</div>
                           <div class="text-sm text-purple-700">มาตรการป้องกัน</div>
                       </div>
                   </div>
               </div>
   
               <div id="aiResponseArea" class="hidden bg-purple-50 border-2 border-purple-200 rounded-xl p-6 mt-8">
                   <div class="flex items-start space-x-4">
                       <div class="w-12 h-12 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-full flex items-center justify-center text-white flex-shrink-0">
                           <i class="fas fa-robot"></i>
                       </div>
                       <div class="flex-1">
                           <div id="aiResponseText" class="text-gray-900 leading-relaxed"></div>
                           <div class="mt-6 pt-4 border-t border-purple-200">
                               <div class="flex flex-wrap gap-2">
                                   <button onclick="exportToGoogleDocs()" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors">
                                       <i class="fab fa-google-drive mr-2"></i>Export to Google Docs
                                   </button>
                                   <button onclick="exportToWord()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors">
                                       <i class="fab fa-microsoft mr-2"></i>Export to Word
                                   </button>
                                   <button onclick="shareWithTeam()" class="bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors">
                                       <i class="fas fa-share-alt mr-2"></i>Share with Team
                                   </button>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       `;
   }
   
   function createLiveRecordingInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="live-recording-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-record-vinyl text-red-500 mr-3 animate-pulse"></i>
                       Live Recording in Progress
                   </h1>
                   <button onclick="stopLiveRecording()" class="bg-red-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-700 transition-colors">
                       <i class="fas fa-stop mr-2"></i>Stop Recording
                   </button>
               </div>
               
               <div class="bg-red-50 border-2 border-red-200 rounded-xl p-6">
                   <div class="grid md:grid-cols-3 gap-6 text-sm mb-6">
                       <div class="text-center">
                           <div class="text-red-600 font-medium mb-1">Duration:</div>
                           <div id="recordingTimer" class="text-2xl font-mono text-red-900 font-bold">00:00</div>
                       </div>
                       <div class="text-center">
                           <div class="text-red-600 font-medium mb-1">Participants:</div>
                           <div class="text-2xl font-bold text-red-900">3</div>
                           <div class="text-xs text-red-600">detected</div>
                       </div>
                       <div class="text-center">
                           <div class="text-red-600 font-medium mb-1">Language:</div>
                           <div class="text-lg font-semibold text-red-900">Thai/English</div>
                           <div class="text-xs text-red-600">auto-detect</div>
                       </div>
                   </div>
                   
                   <div class="bg-white rounded-lg border p-4 mb-6">
                       <div class="text-sm font-medium text-red-700 mb-3">Real-time Transcription:</div>
                       <div id="liveTranscript" class="text-gray-800 min-h-24 max-h-40 overflow-y-auto text-sm bg-gray-50 p-3 rounded border">
                           <div class="text-gray-400 italic flex items-center">
                               <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-red-500 mr-2"></div>
                               Listening for speech...
                           </div>
                       </div>
                   </div>
                   
                   <!-- FIX 2: Real-time AI Insights -->
                   <div class="bg-purple-50 border-2 border-purple-200 rounded-lg p-4">
                       <div class="text-sm font-medium text-purple-700 mb-3 flex items-center">
                           <i class="fas fa-brain text-purple-600 mr-2"></i>
                           AI Real-time Analysis:
                       </div>
                       <div id="realTimeInsights" class="space-y-2">
                           <div class="text-sm text-purple-600">🎯 Detecting key topics and decisions...</div>
                           <div class="text-sm text-purple-600">📋 Identifying action items automatically...</div>
                           <div class="text-sm text-purple-600">📊 Monitoring meeting efficiency...</div>
                       </div>
                   </div>
               </div>
           </div>
       `;
   }
   
   function createUploadInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="upload-recording-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-upload text-blue-600 mr-3"></i>
                       Upload Recording
                   </h1>
               </div>
               
               <div class="bg-white rounded-lg p-8 border border-gray-200 shadow-sm">
                   <div class="text-center">
                       <div class="mx-auto w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6">
                           <i class="fas fa-cloud-upload-alt text-blue-600 text-3xl"></i>
                       </div>
                       <h2 class="text-xl font-semibold text-gray-900 mb-2">Upload Audio/Video File</h2>
                       <p class="text-gray-600 mb-6">Drag and drop your recording file or click to browse</p>
                       
                       <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 hover:border-blue-400 transition-colors cursor-pointer">
                           <input type="file" accept="audio/*,video/*" class="hidden" id="fileInput">
                           <label for="fileInput" class="cursor-pointer">
                               <i class="fas fa-file-audio text-4xl text-gray-400 mb-4"></i>
                               <p class="text-gray-600">Click to select file or drag and drop</p>
                               <p class="text-sm text-gray-500 mt-2">Supports MP3, MP4, WAV, M4A (max 500MB)</p>
                           </label>
                       </div>
                       
                       <button class="mt-6 bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                           <i class="fas fa-magic mr-2"></i>Process with AI
                       </button>
                   </div>
               </div>
           </div>
       `;
   }
   
   // FIX 3: Meeting Hub Interface - Fixed Start Recording Button
   function createMeetingHubInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="meeting-hub-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-microphone text-purple-600 mr-3"></i>
                       Meeting Hub
                       <span class="ml-3 bg-purple-100 text-purple-600 text-xs px-3 py-1 rounded-full font-medium">AI Powered</span>
                   </h1>
                   <div class="flex space-x-3">
                       <!-- FIX 3: Fixed Start Recording Button -->
                       <button onclick="startLiveRecording()" class="bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors">
                           <i class="fas fa-record-vinyl mr-2"></i>Start Recording
                       </button>
                       <button onclick="showUploadRecording()" class="bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                           <i class="fas fa-upload mr-2"></i>Upload
                       </button>
                   </div>
               </div>
               
               <!-- Quick Actions -->
               <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                   <div class="bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-xl p-6 cursor-pointer hover:shadow-md transition-all" onclick="startLiveRecording()">
                       <div class="flex items-center space-x-4">
                           <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                               <i class="fas fa-record-vinyl text-red-600 text-xl"></i>
                           </div>
                           <div>
                               <h3 class="font-semibold text-red-900">Live Recording</h3>
                               <p class="text-sm text-red-700">Real-time transcription & AI analysis</p>
                           </div>
                       </div>
                   </div>
                   
                   <div class="bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl p-6 cursor-pointer hover:shadow-md transition-all" onclick="showUploadRecording()">
                       <div class="flex items-center space-x-4">
                           <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                               <i class="fas fa-upload text-blue-600 text-xl"></i>
                           </div>
                           <div>
                               <h3 class="font-semibold text-blue-900">Upload & Process</h3>
                               <p class="text-sm text-blue-700">Upload audio/video for AI analysis</p>
                           </div>
                       </div>
                   </div>
                   
                   <div class="bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-xl p-6 cursor-pointer hover:shadow-md transition-all" onclick="showMeetingChat()">
                       <div class="flex items-center space-x-4">
                           <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
                               <i class="fas fa-comments text-purple-600 text-xl"></i>
                           </div>
                           <div>
                               <h3 class="font-semibold text-purple-900">Ask Meeting AI</h3>
                               <p class="text-sm text-purple-700">Query your meeting history</p>
                           </div>
                       </div>
                   </div>
               </div>
               
               <!-- Recent Meetings -->
               <div class="bg-white rounded-lg border-2 border-gray-200 shadow-sm p-6 mb-8">
                   <h3 class="text-lg font-semibold text-gray-900 mb-6">Recent Meetings</h3>
                   
                   <div class="space-y-4">
                       <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer">
                           <div class="flex items-center space-x-4">
                               <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                                   <i class="fas fa-video text-red-600"></i>
                               </div>
                               <div>
                                   <h4 class="font-medium text-gray-900">Budget Review Meeting</h4>
                                   <p class="text-sm text-gray-600">With finance team • 45 minutes</p>
                                   <p class="text-xs text-gray-500">2 hours ago</p>
                               </div>
                           </div>
                           <div class="flex items-center space-x-3">
                               <span class="bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full">Processed</span>
                               <button class="text-blue-600 hover:text-blue-800">
                                   <i class="fas fa-download"></i>
                               </button>
                               <button class="text-gray-400 hover:text-gray-600">
                                   <i class="fas fa-ellipsis-v"></i>
                               </button>
                           </div>
                       </div>
                       
                       <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer">
                           <div class="flex items-center space-x-4">
                               <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                   <i class="fas fa-users text-blue-600"></i>
                               </div>
                               <div>
                                   <h4 class="font-medium text-gray-900">Team Standup</h4>
                                   <p class="text-sm text-gray-600">Daily sync meeting • 30 minutes</p>
                                   <p class="text-xs text-gray-500">1 day ago</p>
                               </div>
                           </div>
                           <div class="flex items-center space-x-3">
                               <span class="bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full">Processed</span>
                               <button class="text-blue-600 hover:text-blue-800">
                                   <i class="fas fa-download"></i>
                               </button>
                               <button class="text-gray-400 hover:text-gray-600">
                                   <i class="fas fa-ellipsis-v"></i>
                               </button>
                           </div>
                       </div>
                       
                       <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer">
                           <div class="flex items-center space-x-4">
                               <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                   <i class="fas fa-handshake text-green-600"></i>
                               </div>
                               <div>
                                   <h4 class="font-medium text-gray-900">Client Presentation</h4>
                                   <p class="text-sm text-gray-600">Project proposal review • 1 hour</p>
                                   <p class="text-xs text-gray-500">3 days ago</p>
                               </div>
                           </div>
                           <div class="flex items-center space-x-3">
                               <span class="bg-yellow-100 text-yellow-600 text-xs px-2 py-1 rounded-full">Processing</span>
                               <button class="text-gray-400">
                                   <i class="fas fa-download"></i>
                               </button>
                               <button class="text-gray-400 hover:text-gray-600">
                                   <i class="fas fa-ellipsis-v"></i>
                               </button>
                           </div>
                       </div>
                   </div>
               </div>
               
               <!-- Meeting Analytics -->
               <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                   <div class="bg-white rounded-lg border-2 border-gray-200 shadow-sm p-6">
                       <h3 class="text-lg font-semibold text-gray-900 mb-4">Meeting Insights</h3>
                       <div class="space-y-4">
                           <div class="flex justify-between items-center">
                               <span class="text-sm text-gray-600">Average Meeting Length</span>
                               <span class="font-semibold text-gray-900">42 minutes</span>
                           </div>
                           <div class="flex justify-between items-center">
                               <span class="text-sm text-gray-600">Meetings This Week</span>
                               <span class="font-semibold text-gray-900">12</span>
                           </div>
                           <div class="flex justify-between items-center">
                               <span class="text-sm text-gray-600">AI Transcription Accuracy</span>
                               <span class="font-semibold text-green-600">94%</span>
                           </div>
                           <div class="flex justify-between items-center">
                               <span class="text-sm text-gray-600">Action Items Generated</span>
                               <span class="font-semibold text-gray-900">34</span>
                           </div>
                       </div>
                   </div>
                   
                   <div class="bg-white rounded-lg border-2 border-gray-200 shadow-sm p-6">
                       <h3 class="text-lg font-semibold text-gray-900 mb-4">AI Features</h3>
                       <div class="space-y-3">
                           <div class="flex items-center space-x-3">
                               <i class="fas fa-check-circle text-green-500"></i>
                               <span class="text-sm text-gray-700">Real-time transcription</span>
                           </div>
                           <div class="flex items-center space-x-3">
                               <i class="fas fa-check-circle text-green-500"></i>
                               <span class="text-sm text-gray-700">Speaker identification</span>
                           </div>
                           <div class="flex items-center space-x-3">
                               <i class="fas fa-check-circle text-green-500"></i>
                               <span class="text-sm text-gray-700">Auto-generated summaries</span>
                           </div>
                           <div class="flex items-center space-x-3">
                               <i class="fas fa-check-circle text-green-500"></i>
                               <span class="text-sm text-gray-700">Action item extraction</span>
                           </div>
                           <div class="flex items-center space-x-3">
                               <i class="fas fa-check-circle text-green-500"></i>
                               <span class="text-sm text-gray-700">Multi-language support</span>
                           </div>
                           <div class="flex items-center space-x-3">
                               <i class="fas fa-check-circle text-green-500"></i>
                               <span class="text-sm text-gray-700">Smart search & query</span>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       `;
   }
   
   function createDefaultInterface(viewName) {
       const contentArea = document.getElementById('contentArea');
       const icons = {
           'documents': 'fas fa-file-alt',
           'team-workspace': 'fas fa-users',
           'meeting-hub': 'fas fa-microphone',
           'meeting-chat': 'fas fa-comments',
           'action-items': 'fas fa-tasks',
           'analytics': 'fas fa-chart-bar',
           'integrations': 'fas fa-plug',
           'settings': 'fas fa-cog'
       };
       
       const titles = {
           'documents': 'Documents',
           'team-workspace': 'Team Workspace',
           'meeting-hub': 'Meeting Hub',
           'meeting-chat': 'Meeting AI Chat',
           'action-items': 'Action Items',
           'analytics': 'Analytics',
           'integrations': 'Integrations',
           'settings': 'Settings'
       };
       
       contentArea.innerHTML = `
           <div class="default-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="${icons[viewName] || 'fas fa-cog'} text-purple-600 mr-3"></i>
                       ${titles[viewName] || viewName}
                   </h1>
               </div>
               
               <div class="bg-white rounded-lg p-12 border border-gray-200 shadow-sm text-center">
                   <div class="mx-auto w-24 h-24 bg-purple-100 rounded-full flex items-center justify-center mb-6">
                       <i class="${icons[viewName] || 'fas fa-cog'} text-purple-600 text-3xl"></i>
                   </div>
                   <h2 class="text-xl font-semibold text-gray-900 mb-2">${titles[viewName] || viewName}</h2>
                   <p class="text-gray-600 mb-6">This feature is coming soon! We're working hard to bring you the best experience.</p>
                   
                   <div class="flex justify-center space-x-4">
                       <button onclick="showDashboard()" class="bg-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-purple-700 transition-colors">
                           <i class="fas fa-arrow-left mr-2"></i>Back to Dashboard
                       </button>
                       <button onclick="showAIResearch()" class="bg-gray-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors">
                           <i class="fas fa-brain mr-2"></i>Try AI Research
                       </button>
                   </div>
               </div>
           </div>
       `;
   }
   
   // 🛠️ Utility Functions
   function updateActiveMenu(activeView) {
       document.querySelectorAll('.menu-item').forEach(item => {
           item.classList.remove('active');
       });
       
       const menuSelectors = {
           'dashboard': 'a[onclick*="showDashboard"]',
           'ai-research': 'a[onclick*="showAIResearch"]', 
           'documents': 'a[onclick*="showDocuments"]',
           'team-workspace': 'a[onclick*="showTeamWorkspace"]',
           'meeting-hub': 'a[onclick*="showMeetingHub"]',
           'live-recording': 'a[onclick*="startLiveRecording"]',
           'upload-recording': 'a[onclick*="showUploadRecording"]',
           'meeting-chat': 'a[onclick*="showMeetingChat"]',
           'action-items': 'a[onclick*="showActionItems"]',
           'analytics': 'a[onclick*="showAnalytics"]',
           'integrations': 'a[onclick*="showIntegrations"]',
           'settings': 'a[onclick*="showSettings"]'
       };
       
       const selector = menuSelectors[activeView];
       if (selector) {
           const activeMenuItem = document.querySelector(selector);
           if (activeMenuItem) {
               activeMenuItem.classList.add('active');
           }
       }
   }
   
   function updateRecordingTimer() {
       const minutes = Math.floor(recordingTimer / 60);
       const seconds = recordingTimer % 60;
       const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
       const timerElement = document.getElementById('recordingTimer');
       if (timerElement) {
           timerElement.textContent = display;
       }
   }
   
   // FIX 2: Enhanced Live Transcription with Speaker Data
   function simulateLiveTranscription() {
       const transcriptions = [
           "ครับ เรามาเริ่มการประชุมกันครับ วันนี้เราจะพูดถึงความคืบหน้าของโครงการ FlowWork",
           "ตอนนี้ผลงานด้านเทคนิคเป็นอย่างไร มีปัญหาอะไรที่ต้องแก้ไขมั้ยครับ",
           "สำหรับเรื่องงบประมาณ เราควรจะปรับแผนการใช้จ่ายใหม่ให้เหมาะสม",
           "ผมคิดว่าเราควรจะกำหนดประชุมครั้งถัดไปในสัปดาห์หน้าครับ",
           "มีใครมีข้อสงสัยเพิ่มเติมเกี่ยวกับแผนงานนี้มั้ยครับ"
       ];
       
       const speakers = ['โล่', 'เอ', 'บี'];
       const transcript = transcriptions[Math.floor(Math.random() * transcriptions.length)];
       const speaker = speakers[Math.floor(Math.random() * speakers.length)];
       const transcriptDiv = document.getElementById('liveTranscript');
       
       if (transcriptDiv) {
           if (transcriptDiv.querySelector('.text-gray-400')) {
               transcriptDiv.innerHTML = '';
           }
           
           const newLine = document.createElement('div');
           newLine.className = 'border-l-4 border-purple-500 pl-3 mb-3 pb-2';
           newLine.innerHTML = `
               <div class="flex items-center justify-between mb-1">
                   <span class="text-xs font-medium text-purple-600">[${new Date().toLocaleTimeString()}]</span>
                   <span class="text-xs text-gray-500">${speaker}</span>
               </div>
               <div class="text-gray-800">${transcript}</div>
           `;
           
           transcriptDiv.appendChild(newLine);
           transcriptDiv.scrollTop = transcriptDiv.scrollHeight;
           
           // Store for summary
           if (recordingSummary) {
               recordingSummary.transcriptions.push({
                   time: new Date(),
                   speaker: speaker,
                   text: transcript
               });
               recordingSummary.speakers.add(speaker);
           }
       }
   }
   
   // FIX 2: Generate Meeting Insights
   function generateMeetingInsights() {
       const insights = [
           "🎯 พบการตัดสินใจ 2 เรื่อง: งบประมาณและกำหนดการ",
           "📋 ตรวจพบ Action Item: กำหนดประชุมครั้งถัดไป",
           "📊 คะแนนประสิทธิภาพการประชุม: 88% (ดีเยี่ยม)",
           "⚖️ ระยะเวลาการพูดสมดุล: ผู้เข้าร่วมทุกคนมีส่วนร่วม",
           "🔍 หัวข้อหลัก: โครงการ FlowWork, งบประมาณ, แผนงาน",
           "✅ ความคืบหน้าโครงการอยู่ในเป้าหมาย",
           "💼 ทีมงานมีความพร้อมสำหรับขั้นตอนต่อไป"
       ];
       
       const insightsDiv = document.getElementById('realTimeInsights');
       if (insightsDiv) {
           const randomInsight = insights[Math.floor(Math.random() * insights.length)];
           
           const newInsight = document.createElement('div');
           newInsight.className = 'text-sm text-purple-600';
           newInsight.textContent = randomInsight;
           
           insightsDiv.appendChild(newInsight);
           
           // Keep only last 5 insights
           while (insightsDiv.children.length > 5) {
               insightsDiv.removeChild(insightsDiv.firstChild);
           }
       }
   }
   
   // 🔍 AI Research Functions
   function handleResearchKeydown(event) {
       if ((event.ctrlKey || event.metaKey) && event.key === 'Enter') {
           event.preventDefault();
           performAIResearch();
       }
   }
   
   function performAIResearch() {
       const query = document.getElementById('researchQuery').value.trim();
       if (!query) {
           showNotification('Please enter a research query', 'warning');
           return;
       }

       const responseArea = document.getElementById('aiResponseArea');
       const responseText = document.getElementById('aiResponseText');

       responseArea.classList.remove('hidden');
       responseText.innerHTML = `
           <div class="flex items-center space-x-3">
               <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"></div>
               <span class="text-gray-600">Analyzing with ${selectedAIModel}...</span>
           </div>
       `;

       // Simulate AI processing
       setTimeout(() => {
           displayAIResponse(query);
       }, 2000);
   }

   function displayAIResponse(query) {
       const responseText = document.getElementById('aiResponseText');
       
       const response = `ผลการค้นหาจากระบบ AI สำหรับ "${query}":

**การวิเคราะห์ด้วย ${selectedAIModel}:**

เนื่องจากเป็น demo version ข้อมูลจริงจะมาจากการเชื่อมต่อกับ AI models และแหล่งข้อมูลต่างๆ รวมถึง:

**🏛️ หน่วยงานราชการ**: เอกสารจากกระทรวงต่างๆ
**📚 ฐานข้อมูลกฎหมาย**: ระเบียบและประกาศต่างๆ
**💼 ประวัติการประชุม**: ข้อมูลจากการประชุมที่ผ่านมา
**🔍 แหล่งข้อมูลออนไลน์**: เว็บไซต์ราชการและข้อมูลอ้างอิง

ระบบจะให้คำตอบที่ตรงประเด็น พร้อม citation และ follow-up questions

💡 **AI Model Used**: ${selectedAIModel}
🎯 **Search Confidence**: High
📊 **Sources Found**: Multiple official sources
⏱️ **Processing Time**: 2.4 seconds`;

       typeWriterEffect(responseText, response, 25);
       
       // Update usage stats
       updateAIUsageStats();
   }

   // FIX 4: Suggested Research Function
   function suggestedResearch(query) {
       document.getElementById('researchQuery').value = query;
       performAIResearch();
   }

   function typeWriterEffect(element, text, speed) {
       element.innerHTML = '';
       let i = 0;
       
       function type() {
           if (i < text.length) {
               element.innerHTML += text.charAt(i);
               i++;
               setTimeout(type, speed);
           }
       }
       type();
   }

   // 🤖 AI Model Functions
   function toggleAIModelDropdown() {
       const dropdown = document.getElementById('aiModelDropdown');
       const selector = document.querySelector('.ai-model-selector');
       
       aiModelDropdownOpen = !aiModelDropdownOpen;
       
       if (aiModelDropdownOpen) {
           dropdown.classList.add('show');
           selector.classList.add('active');
       } else {
           dropdown.classList.remove('show');
           selector.classList.remove('active');
       }
   }

   function selectAIModel(model, price) {
       selectedAIModel = model;
       
       document.getElementById('selectedModel').textContent = model;
       document.getElementById('selectedPrice').textContent = price;
       
       // Update research model display
       const researchModel = document.getElementById('currentResearchModel');
       if (researchModel) {
           researchModel.textContent = model;
       }
       
       // Update selected state
       document.querySelectorAll('.ai-model-option').forEach(option => {
           option.classList.remove('selected');
       });
       event.currentTarget.classList.add('selected');
       
       toggleAIModelDropdown();
       showNotification(`Switched to ${model}`, 'info');
   }

   // FIX 4: Research Model Selector Toggle
   function toggleResearchModelSelector() {
       showNotification('Model selector - feature coming soon!', 'info');
   }

   // 📤 Export Functions
   function exportToGoogleDocs() {
       showNotification('Exporting to Google Docs... This will open in a new tab.', 'success');
       setTimeout(() => {
           showNotification('Document exported successfully to Google Docs!', 'success');
       }, 2000);
   }

   function exportToWord() {
       showNotification('Generating Word document... Download will start shortly.', 'success');
       setTimeout(() => {
           showNotification('Word document downloaded successfully!', 'success');
       }, 2000);
   }

   function shareWithTeam() {
       showNotification('Sharing with team members... Notifications sent!', 'success');
       setTimeout(() => {
           showNotification('Document shared with 8 team members!', 'success');
       }, 1500);
   }

   // FIX 2: Summary Export Functions
   function exportSummaryToWord() {
       showNotification('Exporting meeting summary to Word... Download starting!', 'success');
       setTimeout(() => {
           showNotification('Meeting summary exported successfully!', 'success');
       }, 2000);
   }

   function addToActionItems() {
       showNotification('Adding action items to your task list...', 'success');
       setTimeout(() => {
           showNotification('3 action items added successfully!', 'success');
       }, 1500);
   }

   // 📊 Stats Functions
   function updateAIUsageStats() {
       const modelCosts = {
           'GPT-4': 8,
           'Claude-3': 5,
           'Gemini': 2
       };
       
       const cost = modelCosts[selectedAIModel] || 5;
       const currentCredits = parseInt(document.getElementById('creditsCount').textContent);
       const newCredits = Math.max(0, currentCredits - cost);
       
       document.getElementById('creditsCount').textContent = newCredits.toString();
       
       showNotification(`Query completed! Used ${cost} credits with ${selectedAIModel}`, 'success');
   }

   // 🔍 Global Search Function
   function handleGlobalSearch(event) {
       if (event.key === 'Enter' && !event.shiftKey) {
           event.preventDefault();
           const query = event.target.value.trim();
           if (query) {
               showNotification(`Searching with ${selectedAIModel}: "${query}"`, 'info');
               if (currentView !== 'ai-research') {
                   showAIResearch();
               }
               setTimeout(() => {
                   document.getElementById('researchQuery').value = query;
                   performAIResearch();
               }, 500);
           }
       }
   }

   // 📱 Mobile Functions
   function toggleMobileSidebar() {
       const sidebar = document.getElementById('sidebar');
       sidebar.classList.toggle('mobile-show');
   }

   // 📢 Notification System
   function showNotification(message, type = 'info') {
       const notification = document.createElement('div');
       notification.className = `fixed top-24 right-6 px-6 py-4 rounded-xl shadow-lg z-50 transform transition-all duration-500 translate-x-full max-w-sm ${
           type === 'success' ? 'bg-green-100 text-green-800 border border-green-200' :
           type === 'info' ? 'bg-blue-100 text-blue-800 border border-blue-200' :
           type === 'warning' ? 'bg-yellow-100 text-yellow-800 border border-yellow-200' :
           type === 'error' ? 'bg-red-100 text-red-800 border border-red-200' :
           'bg-gray-100 text-gray-800 border border-gray-200'
       }`;
       
       notification.innerHTML = `
           <div class="flex items-start space-x-3">
               <i class="fas ${
                   type === 'success' ? 'fa-check-circle' : 
                   type === 'info' ? 'fa-info-circle' : 
                   type === 'warning' ? 'fa-exclamation-triangle' : 
                   type === 'error' ? 'fa-times-circle' :
                   'fa-bell'
               } text-lg mt-0.5"></i>
               <div>
                   <div class="font-medium text-sm">${message}</div>
                   <div class="text-xs opacity-75 mt-1">${new Date().toLocaleTimeString()}</div>
               </div>
               <button onclick="this.closest('.fixed').remove()" class="ml-2 text-current opacity-50 hover:opacity-100">
                   <i class="fas fa-times text-sm"></i>
               </button>
           </div>
       `;
       
       document.body.appendChild(notification);
       
       setTimeout(() => notification.classList.remove('translate-x-full'), 100);
       
       setTimeout(() => {
           notification.classList.add('translate-x-full');
           setTimeout(() => {
               if (notification.parentNode) {
                   notification.parentNode.removeChild(notification);
               }
           }, 500);
       }, 5000);
   }

   function updateCurrentTime() {
       const now = new Date();
       const timeString = now.toLocaleTimeString('th-TH', { 
           hour: '2-digit', 
           minute: '2-digit'
       });
       const timeElement = document.getElementById('currentTime');
       if (timeElement) {
           timeElement.textContent = timeString;
       }
   }

   // 🎯 Additional Interface Creators
   function createMeetingChatInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="meeting-chat-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-comments text-indigo-600 mr-3"></i>
                       Ask Meeting AI
                       <span class="ml-3 bg-indigo-100 text-indigo-600 text-xs px-3 py-1 rounded-full font-medium">Chat</span>
                   </h1>
               </div>
               
               <div class="bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden" style="height: 600px;">
                   <div class="bg-indigo-50 border-b border-indigo-200 p-4">
                       <div class="flex items-center space-x-3">
                           <div class="w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center">
                               <i class="fas fa-robot text-indigo-600"></i>
                           </div>
                           <div>
                               <h3 class="font-semibold text-indigo-900">Meeting AI Assistant</h3>
                               <p class="text-sm text-indigo-700">Ask me anything about your meetings and documents</p>
                           </div>
                       </div>
                   </div>
                   
                   <div class="flex-1 p-6 overflow-y-auto" style="height: 400px;">
                       <div class="space-y-4">
                           <div class="flex items-start space-x-3">
                               <div class="w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center flex-shrink-0">
                                   <i class="fas fa-robot text-indigo-600 text-sm"></i>
                               </div>
                               <div class="bg-indigo-50 rounded-lg p-3 max-w-md">
                                   <p class="text-sm text-indigo-900">สวัสดีครับ! ผมคือ Meeting AI ที่จะช่วยคุณวิเคราะห์และค้นหาข้อมูลจากการประชุมต่างๆ</p>
                                   <p class="text-xs text-indigo-600 mt-1">Just now</p>
                               </div>
                           </div>
                           
                           <div class="flex items-start space-x-3">
                               <div class="w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center flex-shrink-0">
                                   <i class="fas fa-robot text-indigo-600 text-sm"></i>
                               </div>
                               <div class="bg-indigo-50 rounded-lg p-3 max-w-md">
                                   <p class="text-sm text-indigo-900">คุณสามารถถามอะไรก็ได้เช่น:</p>
                                   <ul class="text-sm text-indigo-800 mt-2 space-y-1">
                                       <li>• "สรุปการประชุมเมื่อวาน"</li>
                                       <li>• "Action items ที่ยังไม่เสร็จ"</li>
                                       <li>• "ใครรับผิดชอบโครงการ X"</li>
                                   </ul>
                                   <p class="text-xs text-indigo-600 mt-1">Just now</p>
                               </div>
                           </div>
                       </div>
                   </div>
                   
                   <div class="border-t border-gray-200 p-4">
                       <div class="flex space-x-3">
                           <input type="text" 
                                  placeholder="ถามเกี่ยวกับการประชุม..." 
                                  class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none">
                           <button class="bg-indigo-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors">
                               <i class="fas fa-paper-plane"></i>
                           </button>
                       </div>
                   </div>
               </div>
           </div>
       `;
   }

   function createActionItemsInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="action-items-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-tasks text-orange-600 mr-3"></i>
                       Action Items
                       <span class="ml-3 bg-orange-100 text-orange-600 text-xs px-3 py-1 rounded-full font-medium">7 pending</span>
                   </h1>
                   <button class="bg-orange-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-orange-700 transition-colors">
                       <i class="fas fa-plus mr-2"></i>New Item
                   </button>
               </div>
               
               <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                   <!-- Urgent -->
                   <div class="bg-white rounded-lg border border-red-200 shadow-sm">
                       <div class="bg-red-50 px-4 py-3 border-b border-red-200">
                           <h3 class="font-semibold text-red-900 flex items-center">
                               <i class="fas fa-exclamation-circle text-red-500 mr-2"></i>
                               Urgent (3)
                           </h3>
                       </div>
                       <div class="p-4 space-y-3">
                           <div class="border-l-4 border-red-500 pl-3 py-2">
                               <h4 class="font-medium text-gray-900">Budget Report</h4>
                               <p class="text-sm text-gray-600">Complete Q4 budget analysis</p>
                               <div class="flex items-center justify-between mt-2">
                                   <span class="text-xs text-red-600 font-medium">Due: Today</span>
                                   <span class="text-xs text-gray-500">Assigned: โล่</span>
                               </div>
                           </div>
                           
                           <div class="border-l-4 border-red-500 pl-3 py-2">
                               <h4 class="font-medium text-gray-900">Client Presentation</h4>
                               <p class="text-sm text-gray-600">Prepare slides for tomorrow</p>
                               <div class="flex items-center justify-between mt-2">
                                   <span class="text-xs text-red-600 font-medium">Due: Tomorrow</span>
                                   <span class="text-xs text-gray-500">Assigned: เอ</span>
                               </div>
                           </div>
                       </div>
                   </div>
                   
                   <!-- In Progress -->
                   <div class="bg-white rounded-lg border border-blue-200 shadow-sm">
                       <div class="bg-blue-50 px-4 py-3 border-b border-blue-200">
                           <h3 class="font-semibold text-blue-900 flex items-center">
                               <i class="fas fa-clock text-blue-500 mr-2"></i>
                               In Progress (2)
                           </h3>
                       </div>
                       <div class="p-4 space-y-3">
                           <div class="border-l-4 border-blue-500 pl-3 py-2">
                               <h4 class="font-medium text-gray-900">FlowWork Development</h4>
                               <p class="text-sm text-gray-600">Complete navigation system</p>
                               <div class="flex items-center justify-between mt-2">
                                   <span class="text-xs text-blue-600 font-medium">Due: This week</span>
                                   <span class="text-xs text-gray-500">Assigned: ทีมพัฒนา</span>
                               </div>
                           </div>
                       </div>
                   </div>
                   
                   <!-- Completed -->
                   <div class="bg-white rounded-lg border border-green-200 shadow-sm">
                       <div class="bg-green-50 px-4 py-3 border-b border-green-200">
                           <h3 class="font-semibold text-green-900 flex items-center">
                               <i class="fas fa-check-circle text-green-500 mr-2"></i>
                               Completed (2)
                           </h3>
                       </div>
                       <div class="p-4 space-y-3">
                           <div class="border-l-4 border-green-500 pl-3 py-2 opacity-75">
                               <h4 class="font-medium text-gray-900">UI Design Review</h4>
                               <p class="text-sm text-gray-600">Review and approve new designs</p>
                               <div class="flex items-center justify-between mt-2">
                                   <span class="text-xs text-green-600 font-medium">Completed</span>
                                   <span class="text-xs text-gray-500">Completed by: บี</span>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       `;
   }

   function createAnalyticsInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="analytics-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-chart-bar text-blue-600 mr-3"></i>
                       Analytics Dashboard
                   </h1>
                   <div class="flex space-x-2">
                       <select class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                           <option>Last 7 days</option>
                           <option>Last 30 days</option>
                           <option>Last 3 months</option>
                       </select>
                       <button class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium">
                           <i class="fas fa-download mr-2"></i>Export
                       </button>
                   </div>
               </div>
               
               <!-- Key Metrics -->
               <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                   <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                       <div class="flex items-center justify-between">
                           <div>
                               <p class="text-sm text-gray-600">Total AI Queries</p>
                               <p class="text-2xl font-bold text-purple-600">156</p>
                           </div>
                           <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                               <i class="fas fa-brain text-purple-600"></i>
                           </div>
                       </div>
                       <div class="text-sm text-green-600 mt-2">↑ 23% from last week</div>
                   </div>
                   
                   <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                       <div class="flex items-center justify-between">
                           <div>
                               <p class="text-sm text-gray-600">Meetings Recorded</p>
                               <p class="text-2xl font-bold text-blue-600">24</p>
                           </div>
                           <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                               <i class="fas fa-microphone text-blue-600"></i>
                           </div>
                       </div>
                       <div class="text-sm text-green-600 mt-2">↑ 12% from last week</div>
                   </div>
                   
                   <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                       <div class="flex items-center justify-between">
                           <div>
                               <p class="text-sm text-gray-600">Time Saved</p>
                               <p class="text-2xl font-bold text-green-600">18.5h</p>
                           </div>
                           <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                               <i class="fas fa-clock text-green-600"></i>
                           </div>
                       </div>
                       <div class="text-sm text-green-600 mt-2">↑ 34% from last week</div>
                   </div>
                   
                   <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                       <div class="flex items-center justify-between">
                           <div>
                               <p class="text-sm text-gray-600">Team Efficiency</p>
                               <p class="text-2xl font-bold text-orange-600">94%</p>
                           </div>
                           <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                               <i class="fas fa-chart-line text-orange-600"></i>
                           </div>
                       </div>
                       <div class="text-sm text-green-600 mt-2">↑ 8% from last week</div>
                   </div>
               </div>
               
               <!-- Charts -->
               <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                   <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                       <h3 class="text-lg font-semibold text-gray-900 mb-4">AI Usage Trends</h3>
                       <div class="h-64 bg-gray-50 rounded-lg flex items-center justify-center">
                           <div class="text-center">
                               <i class="fas fa-chart-line text-4xl text-gray-400 mb-4"></i>
                               <p class="text-gray-600">Chart will be displayed here</p>
                               <p class="text-sm text-gray-500">Integration with Chart.js coming soon</p>
                           </div>
                       </div>
                   </div>
                   
                   <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                       <h3 class="text-lg font-semibold text-gray-900 mb-4">Meeting Analytics</h3>
                       <div class="h-64 bg-gray-50 rounded-lg flex items-center justify-center">
                           <div class="text-center">
                               <i class="fas fa-chart-pie text-4xl text-gray-400 mb-4"></i>
                               <p class="text-gray-600">Meeting data visualization</p>
                               <p class="text-sm text-gray-500">Real-time meeting insights</p>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       `;
   }

   function createIntegrationsInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="integrations-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-plug text-green-600 mr-3"></i>
                       Integrations
                   </h1>
                   <button class="bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors">
                       <i class="fas fa-plus mr-2"></i>Add Integration
                   </button>
               </div>
               
               <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                   <!-- Google Workspace -->
                   <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-6">
                       <div class="flex items-center justify-between mb-4">
                           <div class="flex items-center space-x-3">
                               <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                   <i class="fab fa-google text-blue-600 text-xl"></i>
                               </div>
                               <div>
                                   <h3 class="font-semibold text-gray-900">Google Workspace</h3>
                                   <p class="text-sm text-gray-600">Connected</p>
                               </div>
                           </div>
                           <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                       </div>
                       <p class="text-sm text-gray-600 mb-4">Sync with Google Drive, Docs, Sheets, and Calendar</p>
                       <button class="w-full bg-gray-100 text-gray-700 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors">
                           Configure
                       </button>
                   </div>
                   
                   <!-- Microsoft 365 -->
                   <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-6">
                       <div class="flex items-center justify-between mb-4">
                           <div class="flex items-center space-x-3">
                               <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center">
                                   <i class="fab fa-microsoft text-indigo-600 text-xl"></i>
                               </div>
                               <div>
                                   <h3 class="font-semibold text-gray-900">Microsoft 365</h3>
                                   <p class="text-sm text-gray-600">Not connected</p>
                               </div>
                           </div>
                           <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                       </div>
                       <p class="text-sm text-gray-600 mb-4">Connect with Teams, SharePoint, and Office apps</p>
                       <button class="w-full bg-indigo-600 text-white py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors">
                           Connect
                       </button>
                   </div>
                   
                   <!-- Slack -->
                   <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-6">
                       <div class="flex items-center justify-between mb-4">
                           <div class="flex items-center space-x-3">
                               <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                   <i class="fab fa-slack text-purple-600 text-xl"></i>
                               </div>
                               <div>
                                   <h3 class="font-semibold text-gray-900">Slack</h3>
                                   <p class="text-sm text-gray-600">Not connected</p>
                               </div>
                           </div>
                           <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                       </div>
                       <p class="text-sm text-gray-600 mb-4">Get meeting summaries and AI insights in Slack</p>
                       <button class="w-full bg-purple-600 text-white py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors">
                           Connect
                       </button>
                   </div>
               </div>
           </div>
       `;
   }

   function createSettingsInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="settings-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-cog text-gray-600 mr-3"></i>
                       Settings
                   </h1>
               </div>
               
               <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-6">
                   <h3 class="text-lg font-semibold text-gray-900 mb-4">Profile Settings</h3>
                   
                   <div class="flex items-center space-x-6 mb-6">
                       <div class="w-20 h-20 bg-gradient-to-br from-purple-600 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl font-bold">
                           โล่
                       </div>
                       <div>
                           <button class="bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors mr-3">
                               Change Photo
                           </button>
                           <button class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors">
                               Remove
                           </button>
                       </div>
                   </div>
                   
                   <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                       <div>
                           <label class="block text-sm font-medium text-gray-700 mb-2">ชื่อ</label>
                           <input type="text" value="โล่" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                       </div>
                       <div>
                           <label class="block text-sm font-medium text-gray-700 mb-2">นามสกุล</label>
                           <input type="text" value="ผู้นำทีม" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                       </div>
                       <div>
                           <label class="block text-sm font-medium text-gray-700 mb-2">อีเมล</label>
                           <input type="email" value="lo@flowwork.th" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                       </div>
                       <div>
                           <label class="block text-sm font-medium text-gray-700 mb-2">เบอร์โทร</label>
                           <input type="tel" value="089-xxx-xxxx" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none">
                       </div>
                   </div>
                   
                   <div class="mt-6 flex justify-end">
                       <button class="bg-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-purple-700 transition-colors">
                           Save Changes
                       </button>
                   </div>
               </div>
           </div>
       `;
   }

   function createDocumentsInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="documents-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-file-alt text-blue-600 mr-3"></i>
                       Documents
                       <span class="ml-3 bg-blue-100 text-blue-600 text-xs px-3 py-1 rounded-full font-medium">24 files</span>
                   </h1>
                   <button class="bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                       <i class="fas fa-plus mr-2"></i>New Document
                   </button>
               </div>
               
               <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-12 text-center">
                   <div class="mx-auto w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6">
                       <i class="fas fa-file-alt text-blue-600 text-3xl"></i>
                   </div>
                   <h2 class="text-xl font-semibold text-gray-900 mb-2">Documents</h2>
                   <p class="text-gray-600 mb-6">This feature is coming soon! We're working hard to bring you the best experience.</p>
                   
                   <div class="flex justify-center space-x-4">
                       <button onclick="showDashboard()" class="bg-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-purple-700 transition-colors">
                           <i class="fas fa-arrow-left mr-2"></i>Back to Dashboard
                       </button>
                       <button onclick="showAIResearch()" class="bg-gray-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors">
                           <i class="fas fa-brain mr-2"></i>Try AI Research
                       </button>
                   </div>
               </div>
           </div>
       `;
   }

   function createTeamWorkspaceInterface() {
       const contentArea = document.getElementById('contentArea');
       contentArea.innerHTML = `
           <div class="team-workspace-view">
               <div class="flex items-center justify-between mb-6">
                   <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                       <button onclick="showDashboard()" class="mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                           <i class="fas fa-arrow-left text-gray-600"></i>
                       </button>
                       <i class="fas fa-users text-blue-600 mr-3"></i>
                       Team Workspace
                       <span class="ml-3 bg-blue-100 text-blue-600 text-xs px-3 py-1 rounded-full font-medium">8 members</span>
                   </h1>
                   <button class="bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                       <i class="fas fa-user-plus mr-2"></i>Invite Member
                   </button>
               </div>
               
               <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-12 text-center">
                   <div class="mx-auto w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6">
                       <i class="fas fa-users text-blue-600 text-3xl"></i>
                   </div>
                   <h2 class="text-xl font-semibold text-gray-900 mb-2">Team Workspace</h2>
                   <p class="text-gray-600 mb-6">This feature is coming soon! We're working hard to bring you the best experience.</p>
                   
                   <div class="flex justify-center space-x-4">
                       <button onclick="showDashboard()" class="bg-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-purple-700 transition-colors">
                           <i class="fas fa-arrow-left mr-2"></i>Back to Dashboard
                       </button>
                       <button onclick="showAIResearch()" class="bg-gray-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors">
                           <i class="fas fa-brain mr-2"></i>Try AI Research
                       </button>
                   </div>
               </div>
           </div>
       `;
   }

   // 🎯 Initialization
   document.addEventListener('DOMContentLoaded', function() {
       console.log('🚀 FlowWork Fixed System Loading...');
       
       // Initialize with dashboard
       showDashboard();
       
       // Update time every second
       updateCurrentTime();
       setInterval(updateCurrentTime, 1000);
       
       // Close dropdown when clicking outside
       document.addEventListener('click', function(event) {
           if (!event.target.closest('.ai-model-selector')) {
               if (aiModelDropdownOpen) {
                   toggleAIModelDropdown();
               }
           }
       });
       
       // Keyboard shortcuts
       document.addEventListener('keydown', function(e) {
           // Ctrl/Cmd + K for global search
           if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
               e.preventDefault();
               document.querySelector('.search-enhanced').focus();
           }
           
           // Escape to stop recording
           if (e.key === 'Escape' && isRecording) {
               stopLiveRecording();
           }
       });
       
       console.log('✅ FlowWork Fixed System Initialized!');
       
       // Welcome notification
       setTimeout(() => {
           showNotification('🎉 FlowWork Fixed! All 4 issues resolved!', 'success');
       }, 1000);
   });

</script>

<body>

   <!-- System Alert -->
   <div class="system-alert">
       <div class="flex items-center justify-center space-x-3">
           <i class="fas fa-check-circle"></i>
           <span>🔧 FlowWork Fixed</span>
           <span class="opacity-75">•</span>
           <span>✅ All 4 Issues Resolved</span>
           <span class="opacity-75">•</span>
           <span>🚀 Ready for Modules</span>
           <span class="opacity-75">•</span>
           <span class="animate-pulse">💯 100% Functional!</span>
       </div>
   </div>

   <!-- Header -->
   <header class="top-header">
       <div class="flex items-center justify-between h-full px-6">
           <!-- Left Section -->
           <div class="flex items-center space-x-6">
               <button onclick="toggleMobileSidebar()" class="lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors">
                   <i class="fas fa-bars text-gray-600"></i>
               </button>
               
               <div class="flex items-center space-x-4">
                   <div class="w-8 h-8 bg-gradient-to-br from-purple-600 to-purple-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-rocket text-white text-sm"></i>
                   </div>
                   <span class="text-xl font-bold bg-gradient-to-r from-purple-600 to-purple-500 bg-clip-text text-transparent">FlowWork</span>
                   <span class="text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full">v2.1.2 Fixed</span>
               </div>
               
               <!-- AI Model Selector -->
               <div class="ai-model-selector" onclick="toggleAIModelDropdown()">
                   <div class="w-6 h-6 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-full flex items-center justify-center">
                       <i class="fas fa-brain text-white text-xs"></i>
                   </div>
                   <div>
                       <div class="font-semibold text-sm" id="selectedModel">GPT-4</div>
                       <div class="text-xs text-gray-500" id="selectedPrice">฿0.08/query</div>
                   </div>
                   <i class="fas fa-chevron-down text-xs text-gray-400"></i>
                   
                   <!-- Dropdown -->
                   <div class="ai-model-dropdown" id="aiModelDropdown">
                       <div class="ai-model-option selected" onclick="selectAIModel('GPT-4', '฿0.08/query')">
                           <div class="flex items-center space-x-3">
                               <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                   <i class="fas fa-brain text-green-600 text-xs"></i>
                               </div>
                               <div>
                                   <div class="font-medium">GPT-4 Turbo</div>
                                   <div class="text-xs text-gray-500">Complex reasoning</div>
                               </div>
                           </div>
                           <div class="text-sm font-medium text-green-600">฿0.08</div>
                       </div>
                       
                       <div class="ai-model-option" onclick="selectAIModel('Claude-3', '฿0.05/query')">
                           <div class="flex items-center space-x-3">
                               <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                   <i class="fas fa-robot text-blue-600 text-xs"></i>
                               </div>
                               <div>
                                   <div class="font-medium">Claude-3 Sonnet</div>
                                   <div class="text-xs text-gray-500">Balanced performance</div>
                               </div>
                           </div>
                           <div class="text-sm font-medium text-blue-600">฿0.05</div>
                       </div>
                       
                       <div class="ai-model-option" onclick="selectAIModel('Gemini', '฿0.02/query')">
                           <div class="flex items-center space-x-3">
                               <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                   <i class="fas fa-gem text-purple-600 text-xs"></i>
                               </div>
                               <div>
                                   <div class="font-medium">Gemini Pro</div>
                                   <div class="text-xs text-gray-500">Cost effective</div>
                               </div>
                           </div>
                           <div class="text-sm font-medium text-purple-600">฿0.02</div>
                       </div>
                   </div>
               </div>
           </div>

           <!-- Center Search -->
           <div class="flex-1 max-w-lg mx-6">
               <div class="relative">
                   <input type="text" 
                          placeholder="Ask AI anything... (Ctrl+K)"
                          class="search-enhanced w-full px-4 py-3 pl-12 pr-20 focus:outline-none"
                          onkeydown="handleGlobalSearch(event)">
                   <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                   <div class="absolute right-3 top-1/2 transform -translate-y-1/2 flex space-x-2">
                       <button class="p-1 text-gray-400 hover:text-purple-600 transition-colors">
                           <i class="fas fa-microphone text-sm"></i>
                       </button>
                       <button class="p-1 text-gray-400 hover:text-purple-600 transition-colors">
                           <i class="fas fa-camera text-sm"></i>
                       </button>
                   </div>
               </div>
           </div>

           <!-- Right Section -->
           <div class="flex items-center space-x-4">
               <!-- Credits -->
               <div class="bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl px-4 py-2 flex items-center space-x-2">
                   <i class="fas fa-coins text-yellow-600"></i>
                   <span class="font-semibold text-yellow-800" id="creditsCount">1,246</span>
                   <span class="text-xs text-yellow-600">credits</span>
               </div>

               <!-- Team -->
               <button class="flex items-center space-x-2 px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors">
                   <i class="fas fa-users text-gray-600"></i>
                   <span class="hidden md:block text-sm text-gray-700">ทีมการตลาด</span>
                   <i class="fas fa-chevron-down text-xs text-gray-400"></i>
               </button>

               <!-- Notifications -->
               <div class="relative">
                   <button class="p-2 hover:bg-gray-50 rounded-lg relative transition-colors">
                       <i class="fas fa-bell text-gray-600"></i>
                       <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">3</span>
                   </button>
               </div>

               <!-- User -->
               <div class="relative">
                   <button class="flex items-center space-x-2 p-1 hover:bg-gray-50 rounded-lg transition-colors">
                       <div class="w-8 h-8 bg-gradient-to-br from-purple-600 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium">
                           โล่
                       </div>
                       <i class="fas fa-chevron-down text-xs text-gray-400 hidden md:block"></i>
                   </button>
               </div>
           </div>
       </div>
   </header>

   <!-- Main Container -->
   <div class="main-container">
       
       <!-- Sidebar -->
       <aside id="sidebar" class="sidebar">
           <div class="flex flex-col h-full">
               <!-- Navigation -->
               <div class="flex-1 py-6">
                   <!-- Main -->
                   <div class="px-4 mb-6">
                       <a href="#" class="menu-item active" onclick="showDashboard()">
                           <i class="fas fa-home w-5"></i>
                           <span class="ml-3">Dashboard</span>
                       </a>
                       
                       <a href="#" class="menu-item" onclick="showAIResearch()">
                           <i class="fas fa-brain w-5"></i>
                           <span class="ml-3">AI Research</span>
                           <span class="ml-auto bg-purple-100 text-purple-600 text-xs px-2 py-1 rounded-full">Fixed</span>
                       </a>
                       
                       <a href="#" class="menu-item" onclick="showDocuments()">
                           <i class="fas fa-file-alt w-5"></i>
                           <span class="ml-3">Documents</span>
                           <span class="ml-auto text-xs text-gray-400">24</span>
                       </a>
                       
                       <a href="#" class="menu-item" onclick="showTeamWorkspace()">
                           <i class="fas fa-users w-5"></i>
                           <span class="ml-3">Team Workspace</span>
                           <span class="ml-auto bg-blue-100 text-blue-600 text-xs px-2 py-1 rounded-full">8</span>
                       </a>
                   </div>

                   <!-- Meeting Intelligence -->
                   <div class="px-4 mb-6">
                       <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3 px-3">
                           Meeting Intelligence
                       </div>
                       
                       <a href="#" class="menu-item" onclick="showMeetingHub()">
                           <i class="fas fa-microphone w-5"></i>
                           <span class="ml-3">Meeting Hub</span>
                           <span class="ml-auto bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full">Fixed</span>
                       </a>
                       
                       <a href="#" class="menu-item" onclick="startLiveRecording()">
                           <i class="fas fa-record-vinyl w-5 text-red-500"></i>
                           <span class="ml-3">Live Recording</span>
                           <span class="ml-auto bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full">Fixed</span>
                       </a>
                       
                       <a href="#" class="menu-item" onclick="showUploadRecording()">
                           <i class="fas fa-upload w-5"></i>
                           <span class="ml-3">Upload Recording</span>
                       </a>
                       
                       <a href="#" class="menu-item" onclick="showMeetingChat()">
                           <i class="fas fa-comments w-5"></i>
                           <span class="ml-3">Ask Meeting AI</span>
                           <span class="ml-auto bg-gradient-to-r from-purple-500 to-indigo-500 text-white text-xs px-2 py-1 rounded-full">Chat</span>
                       </a>
                       
                       <a href="#" class="menu-item" onclick="showActionItems()">
                           <i class="fas fa-tasks w-5"></i>
                           <span class="ml-3">Action Items</span>
                           <span class="ml-auto bg-orange-100 text-orange-600 text-xs px-2 py-1 rounded-full">7</span>
                       </a>
                   </div>

                   <!-- Tools & Analytics -->
                   <div class="px-4 mb-6">
                       <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3 px-3">
                           Tools & Analytics
                       </div>
                       
                       <a href="#" class="menu-item" onclick="showAnalytics()">
                           <i class="fas fa-chart-bar w-5"></i>
                           <span class="ml-3">Analytics</span>
                       </a>
                       
                       <a href="#" class="menu-item" onclick="showIntegrations()">
                           <i class="fas fa-plug w-5"></i>
                           <span class="ml-3">Integrations</span>
                       </a>
                       
                       <a href="#" class="menu-item" onclick="showSettings()">
                           <i class="fas fa-cog w-5"></i>
                           <span class="ml-3">Settings</span>
                       </a>
                   </div>
               </div>

               <!-- User Account -->
               <div class="border-t border-gray-200 p-4">
                   <div class="flex items-center space-x-3 mb-3">
                       <div class="w-10 h-10 bg-gradient-to-br from-purple-600 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold">
                           โล่
                       </div>
                       <div class="flex-1 min-w-0">
                           <div class="font-semibold text-gray-900 truncate">โล่</div>
                           <div class="text-sm text-gray-500 truncate">Team Leader</div>
                       </div>
                       <div class="bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full">Online</div>
                   </div>
                   <button class="w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg py-2 px-3 text-sm font-medium hover:from-purple-700 hover:to-indigo-700 transition-all">
                       <i class="fas fa-crown mr-2"></i>
                       Upgrade to Pro
                   </button>
               </div>
           </div>
       </aside>

       <!-- Content Area -->
       <main class="content-area" id="contentArea">
           <!-- Content will be dynamically loaded here -->
       </main>

       <!-- Right Panel -->
       <aside class="right-panel" id="rightPanel">
           
           <!-- Team Status -->
           <div class="p-6 border-b border-gray-200">
               <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4">Team Status</h3>
               <div class="space-y-3">
                   <div class="flex items-center space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg">
                       <div class="relative">
                           <div class="w-10 h-10 bg-gradient-to-br from-purple-600 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold">
                               โล่
                           </div>
                           <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"></div>
                       </div>
                       <div class="flex-1">
                           <div class="font-semibold text-gray-900">โล่ (You)</div>
                           <div class="text-sm text-green-600">Online • Testing fixes</div>
                       </div>
                   </div>
                   
                   <div class="flex items-center space-x-3 p-3 bg-blue-50 border border-blue-200 rounded-lg">
                       <div class="relative">
                           <div class="w-10 h-10 bg-gradient-to-br from-gray-500 to-gray-600 rounded-full flex items-center justify-center text-white font-semibold">
                               เอ
                           </div>
                           <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-blue-400 border-2 border-white rounded-full"></div>
                       </div>
                       <div class="flex-1">
                           <div class="font-semibold text-gray-900">เอ</div>
                           <div class="text-sm text-blue-600">In meeting</div>
                       </div>
                   </div>
                   
                   <div class="flex items-center space-x-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                       <div class="relative">
                           <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold">
                               บี
                           </div>
                           <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-yellow-400 border-2 border-white rounded-full"></div>
                       </div>
                       <div class="flex-1">
                           <div class="font-semibold text-gray-900">บี</div>
                           <div class="text-sm text-yellow-600">Away • Back in 10 min</div>
                       </div>
                   </div>
                   
                   <div class="flex items-center space-x-3 p-3 bg-gray-50 border border-gray-200 rounded-lg">
                       <div class="relative">
                           <div class="w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white font-semibold">
                               ซี
                           </div>
                           <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-gray-400 border-2 border-white rounded-full"></div>
                       </div>
                       <div class="flex-1">
                           <div class="font-semibold text-gray-900">ซี</div>
                           <div class="text-sm text-gray-500">Offline</div>
                       </div>
                   </div>
               </div>
           </div>

           <!-- Fix Status -->
           <div class="p-6 border-b border-gray-200">
               <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4">Fix Status</h3>
               <div class="space-y-4">
                   <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                       <div class="flex items-center justify-between mb-2">
                           <span class="text-sm font-medium text-green-900">Dashboard Fixed</span>
                           <i class="fas fa-check-circle text-green-600"></i>
                       </div>
                       <div class="text-xs text-green-700">AI Models sidebar display</div>
                   </div>
                   
                   <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                       <div class="flex items-center justify-between mb-2">
                           <span class="text-sm font-medium text-green-900">Live Recording Fixed</span>
                           <i class="fas fa-check-circle text-green-600"></i>
                       </div>
                       <div class="text-xs text-green-700">Summary + tooltips</div>
                   </div>
                   
                   <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                       <div class="flex items-center justify-between mb-2">
                           <span class="text-sm font-medium text-green-900">Meeting Hub Fixed</span>
                           <i class="fas fa-check-circle text-green-600"></i>
                       </div>
                       <div class="text-xs text-green-700">Start Recording button</div>
                   </div>
                   
                   <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                       <div class="flex items-center justify-between mb-2">
                           <span class="text-sm font-medium text-green-900">AI Research Fixed</span>
                           <i class="fas fa-check-circle text-green-600"></i>
                       </div>
                       <div class="text-xs text-green-700">Suggestions + model selector</div>
                   </div>
               </div>
           </div>

           <!-- Quick Actions -->
           <div class="p-6 border-b border-gray-200">
               <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4">Quick Actions</h3>
               <div class="space-y-2">
                   <button onclick="showDocuments()" class="w-full text-left p-3 bg-white border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-all">
                       <div class="flex items-center space-x-3">
                           <i class="fas fa-file-plus text-purple-600"></i>
                           <span class="font-medium text-gray-900">New Document</span>
                       </div>
                   </button>
                   
                   <button onclick="startLiveRecording()" class="w-full text-left p-3 bg-white border border-gray-200 rounded-lg hover:border-red-300 hover:bg-red-50 transition-all">
                       <div class="flex items-center space-x-3">
                           <i class="fas fa-record-vinyl text-red-600"></i>
                           <span class="font-medium text-gray-900">Start Recording</span>
                           <span class="ml-auto bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full">Fixed</span>
                       </div>
                   </button>
                   
                   <button onclick="showMeetingChat()" class="w-full text-left p-3 bg-white border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all">
                       <div class="flex items-center space-x-3">
                           <i class="fas fa-comments text-indigo-600"></i>
                           <span class="font-medium text-gray-900">Ask Meeting AI</span>
                           <span class="ml-auto bg-indigo-100 text-indigo-600 text-xs px-2 py-1 rounded-full">Chat</span>
                       </div>
                   </button>
               </div>
           </div>

           <!-- System Info -->
           <div class="p-6">
               <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4">System Info</h3>
               <div class="space-y-3">
                   <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                       <div class="flex justify-between items-center">
                           <div>
                               <div class="text-sm font-medium text-green-900">Status</div>
                               <div class="text-xs text-green-700">All fixes applied</div>
                           </div>
                           <div class="text-lg font-bold text-green-900">100%</div>
                       </div>
                   </div>
                   
                   <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                       <div class="flex justify-between items-center">
                           <div>
                               <div class="text-sm font-medium text-blue-900">Next Phase</div>
                               <div class="text-xs text-blue-700">Ready for modules</div>
                           </div>
                           <div class="text-lg font-bold text-blue-900">🚀</div>
                       </div>
                   </div>
                   
                   <div class="bg-gray-50 border border-gray-200 rounded-lg p-3">
                       <div class="flex justify-between items-center">
                           <div>
                               <div class="text-sm font-medium text-gray-900">Local Time</div>
                               <div class="text-xs text-gray-600">Bangkok, Thailand</div>
                           </div>
                           <div id="currentTime" class="text-lg font-bold text-gray-900 font-mono">14:32</div>
                       </div>
                   </div>
               </div>
           </div>
       </aside>
   </div>

</body>
</html>