<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowWork - AI Research & Collaboration Suite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .perplexity-response {
            background: linear-gradient(135deg, #f6f8fb 0%, #ffffff 100%);
            border-left: 4px solid #10b981;
        }
        .user-type-badge {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        .search-input:focus {
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <!-- Top Bar -->
    <header class="bg-white shadow-sm border-b h-16 fixed w-full top-0 z-50">
        <div class="flex items-center justify-between h-full px-4">
            <!-- Logo -->
            <div class="flex items-center space-x-4">
                <div class="text-2xl font-bold text-green-600">üöÄ FlowWork</div>
                
                <!-- Global Search -->
                <div class="hidden md:block relative">
                    <input type="text" 
                           placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ..." 
                           class="w-96 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-green-500 search-input">
                    <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                </div>
            </div>

            <!-- Right Section -->
            <div class="flex items-center space-x-4">
                <!-- Credits -->
                <div class="flex items-center space-x-2 bg-green-50 px-3 py-1 rounded-lg">
                    <i class="fas fa-coins text-green-600"></i>
                    <span class="text-green-700 font-semibold">1,250</span>
                </div>

                <!-- Team Selector -->
                <div class="relative">
                    <button class="flex items-center space-x-2 px-3 py-2 hover:bg-gray-100 rounded-lg" onclick="toggleTeamDropdown()">
                        <i class="fas fa-users text-gray-600"></i>
                        <span class="hidden md:block">‡∏ó‡∏µ‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î</span>
                        <i class="fas fa-chevron-down text-xs"></i>
                    </button>
                </div>

                <!-- Notifications -->
                <div class="relative">
                    <button class="p-2 hover:bg-gray-100 rounded-lg relative">
                        <i class="fas fa-bell text-gray-600"></i>
                        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center">3</span>
                    </button>
                </div>

                <!-- User Menu -->
                <div class="relative">
                    <button class="flex items-center space-x-2 p-2 hover:bg-gray-100 rounded-lg">
                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-semibold">
                            ‡πÇ‡∏•‡πà
                        </div>
                        <i class="fas fa-chevron-down text-xs hidden md:block"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="flex pt-16 h-screen">
        
        <!-- Left Sidebar -->
        <aside class="w-80 bg-white shadow-sm border-r overflow-y-auto">
            <div class="p-4">
                
                <!-- User Type Badge -->
                <div class="user-type-badge text-white px-4 py-2 rounded-lg mb-6">
                    <div class="flex items-center justify-between">
                        <span class="font-semibold">‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</span>
                        <button onclick="changeUserType()" class="text-xs opacity-75 hover:opacity-100">
                            <i class="fas fa-exchange-alt"></i> ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
                        </button>
                    </div>
                    <div class="text-xs opacity-75 mt-1">Government Official</div>
                </div>

                <!-- Navigation Menu -->
                <nav class="space-y-2">
                    <!-- AI Research -->
                    <div class="menu-group">
                        <div class="flex items-center space-x-3 px-3 py-2 bg-green-50 text-green-700 rounded-lg cursor-pointer">
                            <i class="fas fa-search"></i>
                            <span class="font-medium">AI Research</span>
                        </div>
                        <div class="ml-6 mt-2 space-y-1">
                            <a href="#" class="block px-3 py-1 text-sm text-gray-600 hover:text-green-600">‚ú® New Research</a>
                            <a href="#" class="block px-3 py-1 text-sm text-gray-600 hover:text-green-600">üìù Recent Searches</a>
                            <a href="#" class="block px-3 py-1 text-sm text-gray-600 hover:text-green-600">‚≠ê Saved Queries</a>
                        </div>
                    </div>

                    <!-- Documents -->
                    <div class="menu-group">
                        <div class="flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg cursor-pointer">
                            <i class="fas fa-file-alt"></i>
                            <span class="font-medium">Documents</span>
                        </div>
                    </div>

                    <!-- Team Workspace -->
                    <div class="menu-group">
                        <div class="flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg cursor-pointer">
                            <i class="fas fa-users"></i>
                            <span class="font-medium">Team Workspace</span>
                            <span class="bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full ml-auto">8</span>
                        </div>
                    </div>

                    <!-- Meeting Hub -->
                    <div class="menu-group">
                        <div class="flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg cursor-pointer">
                            <i class="fas fa-microphone"></i>
                            <span class="font-medium">Meeting Hub</span>
                        </div>
                    </div>

                    <!-- Analytics -->
                    <div class="menu-group">
                        <div class="flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg cursor-pointer">
                            <i class="fas fa-chart-bar"></i>
                            <span class="font-medium">Analytics</span>
                        </div>
                    </div>

                    <!-- Settings -->
                    <div class="menu-group">
                        <div class="flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg cursor-pointer">
                            <i class="fas fa-cog"></i>
                            <span class="font-medium">Settings</span>
                        </div>
                    </div>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto">
            <div class="p-6">
                
                <!-- Page Header -->
                <div class="mb-6">
                    <h1 class="text-2xl font-bold text-gray-900 mb-2">üéØ Research Assistant for Government Officials</h1>
                    <p class="text-gray-600">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏ó‡∏¢</p>
                </div>

                <!-- Search Interface (Perplexity Style) -->
                <div class="bg-white rounded-xl shadow-sm border p-6 mb-6">
                    <div class="mb-4">
                        <div class="relative">
                            <textarea 
                                id="mainSearch"
                                placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å ‡πÄ‡∏ä‡πà‡∏ô '‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏°‡πà‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏ó‡∏¢'"
                                class="w-full h-24 p-4 border border-gray-300 rounded-lg resize-none focus:outline-none focus:border-green-500 search-input"
                                onkeydown="handleSearchKeydown(event)"></textarea>
                            
                            <div class="absolute bottom-3 right-3 flex space-x-2">
                                <button class="p-2 text-gray-400 hover:text-green-600">
                                    <i class="fas fa-microphone"></i>
                                </button>
                                <button class="p-2 text-gray-400 hover:text-green-600">
                                    <i class="fas fa-paperclip"></i>
                                </button>
                                <button onclick="performSearch()" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium">
                                    <i class="fas fa-paper-plane"></i> ‡∏™‡πà‡∏á
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Filters -->
                    <div class="mb-4">
                        <div class="text-sm text-gray-600 mb-2">üéØ Quick Filters:</div>
                        <div class="flex flex-wrap gap-2">
                            <button class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm hover:bg-blue-200">üìö Academic</button>
                            <button class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm hover:bg-green-200">üèõÔ∏è Government</button>
                            <button class="px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm hover:bg-orange-200">üì∞ News</button>
                            <button class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm hover:bg-purple-200">üáπüá≠ Thai Only</button>
                            <button class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200">üåç Global</button>
                            <button class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm hover:bg-red-200">üìä Data</button>
                        </div>
                    </div>

                    <!-- Search Response Area -->
                    <div id="searchResponse" class="hidden">
                        <div class="perplexity-response rounded-lg p-4 mb-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold">AI</div>
                                <div class="flex-1">
                                    <div class="text-gray-900 leading-relaxed" id="responseText"></div>
                                    <div class="mt-4 flex flex-wrap gap-2" id="sourceCitations"></div>
                                    <div class="mt-4 pt-4 border-t">
                                        <div class="flex space-x-2">
                                            <button onclick="exportToDoc()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm">
                                                üìÑ Export to Google Docs
                                            </button>
                                            <button onclick="exportToWord()" class="px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900 text-sm">
                                                üìù Export to Word
                                            </button>
                                            <button onclick="shareWithTeam()" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm">
                                                üë• Share with Team
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Follow-up Questions -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="text-sm text-gray-600 mb-2">üí° Follow-up Questions:</div>
                            <div class="space-y-2" id="followUpQuestions"></div>
                        </div>
                    </div>
                </div>

                <!-- Suggested Research -->
                <div class="bg-white rounded-xl shadow-sm border p-6 mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">üí° Suggested Research for Government Officials:</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="p-4 border border-gray-200 rounded-lg hover:border-green-300 cursor-pointer" onclick="suggestedSearch('‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏°‡πà')">
                            <div class="font-medium text-gray-900">‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏°‡πà</div>
                            <div class="text-sm text-gray-600 mt-1">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô</div>
                        </div>
                        <div class="p-4 border border-gray-200 rounded-lg hover:border-green-300 cursor-pointer" onclick="suggestedSearch('‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô 2567')">
                            <div class="font-medium text-gray-900">‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô 2567</div>
                            <div class="text-sm text-gray-600 mt-1">‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
                        </div>
                        <div class="p-4 border border-gray-200 rounded-lg hover:border-green-300 cursor-pointer" onclick="suggestedSearch('‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢')">
                            <div class="font-medium text-gray-900">‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</div>
                            <div class="text-sm text-gray-600 mt-1">‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥</div>
                        </div>
                        <div class="p-4 border border-gray-200 rounded-lg hover:border-green-300 cursor-pointer" onclick="suggestedSearch('‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•')">
                            <div class="font-medium text-gray-900">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•</div>
                            <div class="text-sm text-gray-600 mt-1">‡πÅ‡∏ú‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Research -->
                <div class="bg-white rounded-xl shadow-sm border p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">üìä Recent Research (3):</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-file-alt text-blue-600"></i>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì Q1</div>
                                    <div class="text-sm text-gray-500">2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß ‚Ä¢ 25 credits</div>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="flex -space-x-2">
                                    <div class="w-6 h-6 bg-green-500 rounded-full border-2 border-white flex items-center justify-center text-xs text-white">‡πÇ‡∏•‡πà</div>
                                    <div class="w-6 h-6 bg-blue-500 rounded-full border-2 border-white flex items-center justify-center text-xs text-white">‡πÄ‡∏≠</div>
                                    <div class="w-6 h-6 bg-purple-500 rounded-full border-2 border-white flex items-center justify-center text-xs text-white">+3</div>
                                </div>
                                <button class="text-gray-400 hover:text-gray-600">
                                    <i class="fas fa-ellipsis-h"></i>
                                </button>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-clipboard-list text-green-600"></i>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà</div>
                                    <div class="text-sm text-gray-500">5 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß ‚Ä¢ 15 credits</div>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="flex -space-x-2">
                                    <div class="w-6 h-6 bg-green-500 rounded-full border-2 border-white flex items-center justify-center text-xs text-white">‡πÇ‡∏•‡πà</div>
                                    <div class="w-6 h-6 bg-blue-500 rounded-full border-2 border-white flex items-center justify-center text-xs text-white">‡∏ö‡∏µ</div>
                                    <div class="w-6 h-6 bg-yellow-500 rounded-full border-2 border-white flex items-center justify-center text-xs text-white">‡∏ã‡∏µ</div>
                                </div>
                                <button class="text-gray-400 hover:text-gray-600">
                                    <i class="fas fa-ellipsis-h"></i>
                                </button>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-chart-bar text-purple-600"></i>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£</div>
                                    <div class="text-sm text-gray-500">1 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß ‚Ä¢ 8 credits</div>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="text-sm text-gray-500">‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏â‡∏±‡∏ô</div>
                                <button class="text-gray-400 hover:text-gray-600">
                                    <i class="fas fa-ellipsis-h"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>

        <!-- Right Panel -->
        <aside class="w-80 bg-white shadow-sm border-l overflow-y-auto">
            <div class="p-4 space-y-6">
                
                <!-- Quick Actions -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">‚ö° Quick Actions</h3>
                    <div class="space-y-2">
                        <button class="w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium">
                            üìù New Document
                        </button>
                        <button class="w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium">
                            üë• Invite Team
                        </button>
                        <button class="w-full px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium">
                            üéôÔ∏è Record Meeting
                        </button>
                        <button class="w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium">
                            üì§ Export Results
                        </button>
                    </div>
                </div>

                <!-- Team Status -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">üë• Team Status (Online)</h3>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-semibold text-sm">‡πÇ‡∏•‡πà</div>
                                <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-900">‡∏û‡∏µ‡πà‡πÇ‡∏•‡πà</div>
                                <div class="text-xs text-gray-500">Team Leader</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold text-sm">‡πÄ‡∏≠</div>
                                <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-900">‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏≠</div>
                                <div class="text-xs text-gray-500">Researcher</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white font-semibold text-sm">‡∏ö‡∏µ</div>
                                <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-900">‡∏û‡∏µ‡πà‡∏ö‡∏µ</div>
                                <div class="text-xs text-gray-500">Away</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <div class="w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center text-white font-semibold text-sm">‡∏ã‡∏µ</div>
                                <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-gray-400 rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-900">‡∏ô‡πâ‡∏≠‡∏á‡∏ã‡∏µ</div>
                                <div class="text-xs text-gray-500">Offline</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">üìä Recent Activity</h3>
                    <div class="space-y-3 text-sm">
                        <div class="flex space-x-2">
                            <span class="text-gray-500">15:30</span>
                            <div>
                                <span class="font-medium">‡∏û‡∏µ‡πà‡πÇ‡∏•‡πà</span> shared 
                                <span class="text-blue-600">"‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì"</span>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <span class="text-gray-500">14:45</span>
                            <div>
                                <span class="font-medium">‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏≠</span> finished research on 
                                <span class="text-green-600">"‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢"</span>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <span class="text-gray-500">13:20</span>
                            <div>
                                <span class="text-purple-600">Meeting recorded</span><br>
                                <span class="text-gray-500">duration: 45 min</span>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <span class="text-gray-500">12:10</span>
                            <div>
                                <span class="font-medium">‡∏û‡∏µ‡πà‡∏ö‡∏µ</span> commented on 
                                <span class="text-blue-600">"‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà"</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Credit Usage -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">üí∞ Credit Usage</h3>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-gray-600">Today:</span>
                            <span class="font-semibold">45/100 credits</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                            <div class="bg-green-600 h-2 rounded-full" style="width: 45%"></div>
                        </div>
                        
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-gray-600">This month:</span>
                            <span class="font-semibold">180/500 credits</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                            <div class="bg-blue-600 h-2 rounded-full" style="width: 36%"></div>
                        </div>
                        
                        <button class="w-full text-center text-green-600 hover:text-green-700 text-sm font-medium">
                            üìä View Details
                        </button>
                    </div>
                </div>

                <!-- Notifications -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">üîî Notifications (3)</h3>
                    <div class="space-y-3">
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                            <div class="font-medium text-blue-900 text-sm">New team member joined</div>
                            <div class="text-xs text-blue-600 mt-1">‡∏ô‡πâ‡∏≠‡∏á‡∏î‡∏µ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏ó‡∏µ‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î</div>
                        </div>
                        <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                            <div class="font-medium text-green-900 text-sm">Document ready for review</div>
                            <div class="text-xs text-green-600 mt-1">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì Q1 ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</div>
                        </div>
                        <div class="bg-orange-50 border border-orange-200 rounded-lg p-3">
                            <div class="font-medium text-orange-900 text-sm">Low credits warning</div>
                            <div class="text-xs text-orange-600 mt-1">‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï 45 credits ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                        </div>
                    </div>
                </div>

                <!-- Government Tools (User Type Specific) -->
                <div class="bg-green-50 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-green-900 mb-3">üèõÔ∏è Government Tools</h3>
                    <div class="space-y-2">
                        <button class="w-full px-3 py-2 bg-white border border-green-200 rounded-lg hover:bg-green-50 text-sm">
                            üìú Law Search (Sommai)
                        </button>
                        <button class="w-full px-3 py-2 bg-white border border-green-200 rounded-lg hover:bg-green-50 text-sm">
                            üìã Form Generator
                        </button>
                        <button class="w-full px-3 py-2 bg-white border border-green-200 rounded-lg hover:bg-green-50 text-sm">
                            üìä Budget Tracker
                        </button>
                    </div>
                </div>

                <!-- Official Schedule -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">üìÖ Official Schedule</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                            <span>Weekly Report Due - Tomorrow</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                            <span>Budget Meeting - Monday 9:00</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span>Policy Review - Wed 14:00</span>
                        </div>
                    </div>
                </div>

                <!-- Compliance Check -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">üéØ Compliance Check</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-check-circle text-green-500"></i>
                            <span>Format approved</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-exclamation-triangle text-orange-500"></i>
                            <span>Citation needed</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-clock text-blue-500"></i>
                            <span>Pending approval</span>
                        </div>
                    </div>
                </div>

            </div>
        </aside>
    </div>

    <!-- User Type Selection Modal -->
    <div id="userTypeModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center h-full p-4">
            <div class="bg-white rounded-xl shadow-xl max-w-md w-full p-6">
                <h3 class="text-xl font-bold text-gray-900 mb-4">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
                <div class="space-y-3">
                    <button onclick="setUserType('student')" class="w-full p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 text-left">
                        <div class="font-medium text-gray-900">üìö ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</div>
                        <div class="text-sm text-gray-600">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ‡∏ï‡∏¥‡∏ß‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö ‡∏ñ‡∏≤‡∏°‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô</div>
                    </button>
                    <button onclick="setUserType('government')" class="w-full p-4 border-2 border-green-300 bg-green-50 rounded-lg text-left">
                        <div class="font-medium text-green-900">üèõÔ∏è ‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</div>
                        <div class="text-sm text-green-600">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£ ‡∏û‡∏£‡πâ‡∏≠‡∏° Sommai AI</div>
                    </button>
                    <button onclick="setUserType('business')" class="w-full p-4 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 text-left">
                        <div class="font-medium text-gray-900">üíº ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó/‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£</div>
                        <div class="text-sm text-gray-600">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à ‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á</div>
                    </button>
                    <button onclick="setUserType('researcher')" class="w-full p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 text-left">
                        <div class="font-medium text-gray-900">üî¨ ‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏à‡∏±‡∏¢</div>
                        <div class="text-sm text-gray-600">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πâ‡∏ô‡∏Ñ‡∏ß‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£</div>
                    </button>
                    <button onclick="setUserType('general')" class="w-full p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:bg-gray-50 text-left">
                        <div class="font-medium text-gray-900">üë§ ‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</div>
                        <div class="text-sm text-gray-600">‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</div>
                    </button>
                </div>
                <button onclick="closeUserTypeModal()" class="w-full mt-4 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">
                    ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                </button>
            </div>
        </div>
    </div>

    <script>
        // AI Response Simulation Data
        const aiResponses = {
            '‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏°‡πà': {
                text: `‡∏Å‡∏≤‡∏£‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‡∏°‡∏µ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

**1. ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£**
- ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•)
- ‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏•‡∏á‡∏ô‡∏≤‡∏°
- ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏°‡∏≠‡∏ö‡∏≠‡∏≥‡∏ô‡∏≤‡∏à (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

**2. ‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠**
- ‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤
- ‡∏ä‡∏≥‡∏£‡∏∞‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° 500-1,000 ‡∏ö‡∏≤‡∏ó
- ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ 1-3 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£

**3. ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡πÉ‡∏ö‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô**
- ‡∏£‡∏±‡∏ö‡πÉ‡∏ö‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤
- ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡∏ó‡∏∏‡∏Å 5 ‡∏õ‡∏µ

‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á`,
                sources: [
                    { title: "‡∏Å‡∏£‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤", url: "dbd.go.th", confidence: "high" },
                    { title: "‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à", url: "ratchakitcha.soc.go.th", confidence: "high" },
                    { title: "‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£", url: "sme.go.th", confidence: "medium" }
                ],
                followUp: [
                    "‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à",
                    "‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥",
                    "‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÉ‡∏ö‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤"
                ]
            },
            '‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô 2567': {
                text: `‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô ‡∏û.‡∏®. 2567 ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

**1. ‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥**
- ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô 370 ‡∏ö‡∏≤‡∏ó/‡∏ß‡∏±‡∏ô ‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø
- 350-365 ‡∏ö‡∏≤‡∏ó/‡∏ß‡∏±‡∏ô ‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÜ
- ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà 1 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2567

**2. ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏•‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤**
- ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ñ‡πà‡∏≤‡∏•‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏±‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ 1.5 ‡πÄ‡∏ó‡πà‡∏≤
- ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ 2 ‡πÄ‡∏ó‡πà‡∏≤
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏•‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 36 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á/‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå

**3. ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô**
- ‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô 30 ‡∏ß‡∏±‡∏ô/‡∏õ‡∏µ
- ‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡∏Å‡∏¥‡∏à 3 ‡∏ß‡∏±‡∏ô/‡∏õ‡∏µ
- ‡∏Ñ‡πà‡∏≤‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô

‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î‡∏Ç‡∏∂‡πâ‡∏ô ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏î‡∏¢‡∏Å‡∏£‡∏°‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô`,
                sources: [
                    { title: "‡∏Å‡∏£‡∏°‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô", url: "dlpw.go.th", confidence: "high" },
                    { title: "‡∏£‡∏≤‡∏ä‡∏Å‡∏¥‡∏à‡∏à‡∏≤‡∏ô‡∏∏‡πÄ‡∏ö‡∏Å‡∏©‡∏≤ ‡πÄ‡∏•‡πà‡∏° 141", url: "ratchakitcha.soc.go.th", confidence: "high" },
                    { title: "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏õ‡∏•‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô", url: "mol.go.th", confidence: "high" }
                ],
                followUp: [
                    "‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î",
                    "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà",
                    "‡∏ö‡∏ó‡∏•‡∏á‡πÇ‡∏ó‡∏©‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏≤‡∏¢‡∏à‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ù‡πà‡∏≤‡∏ù‡∏∑‡∏ô"
                ]
            }
        };

        // Current user type
        let currentUserType = 'government';

        // Search functionality
        function performSearch() {
            const searchText = document.getElementById('mainSearch').value.trim();
            if (!searchText) return;

            showSearchResponse(searchText);
        }

        function suggestedSearch(query) {
            document.getElementById('mainSearch').value = query;
            showSearchResponse(query);
        }

        function showSearchResponse(query) {
            const responseDiv = document.getElementById('searchResponse');
            const responseText = document.getElementById('responseText');
            const sourceCitations = document.getElementById('sourceCitations');
            const followUpQuestions = document.getElementById('followUpQuestions');

            // Show loading
            responseDiv.classList.remove('hidden');
            responseText.innerHTML = '<div class="flex items-center space-x-2"><div class="animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"></div><span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</span></div>';
            sourceCitations.innerHTML = '';
            followUpQuestions.innerHTML = '';

            // Simulate AI response after 2 seconds
            setTimeout(() => {
                const response = aiResponses[query] || {
                    text: `‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö "${query}" 

‡πÅ‡∏ï‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á FlowWork ‡∏à‡∏∞:
- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡πÑ‡∏ó‡∏¢
- ‡πÉ‡∏ä‡πâ Sommai AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢
- ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ
- ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢

‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö`,
                    sources: [
                        { title: "‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á FlowWork", url: "demo.flow.in.th", confidence: "demo" }
                    ],
                    followUp: [
                        "‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏°‡πà",
                        "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô 2567"
                    ]
                };

                // Show response text with typing effect
                typeWriter(responseText, response.text, 50);

                // Show sources
                sourceCitations.innerHTML = response.sources.map(source => 
                    `<div class="inline-flex items-center space-x-1 px-2 py-1 bg-gray-100 rounded text-xs">
                        <div class="w-2 h-2 rounded-full ${getConfidenceColor(source.confidence)}"></div>
                        <span>${source.title}</span>
                    </div>`
                ).join('');

                // Show follow-up questions
                followUpQuestions.innerHTML = response.followUp.map(question =>
                    `<button onclick="suggestedSearch('${question}')" class="block w-full text-left px-3 py-2 bg-white border border-gray-200 rounded hover:border-green-300 hover:bg-green-50 text-sm">
                        ${question}
                    </button>`
                ).join('');

                // Scroll to response
                responseDiv.scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        }

        function typeWriter(element, text, speed) {
            element.innerHTML = '';
            let i = 0;
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                }
            }
            type();
        }

        function getConfidenceColor(confidence) {
            switch(confidence) {
                case 'high': return 'bg-green-500';
                case 'medium': return 'bg-yellow-500';
                case 'low': return 'bg-red-500';
                default: return 'bg-gray-500';
            }
        }

        function handleSearchKeydown(event) {
            if (event.ctrlKey && event.key === 'Enter') {
                performSearch();
            }
        }

        // Export functions
        function exportToDoc() {
            alert('üöÄ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ Google Docs...\n\n‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á:\n‚Ä¢ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Google Drive API\n‚Ä¢ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà\n‚Ä¢ ‡πÄ‡∏ä‡∏¥‡∏ç‡∏ó‡∏µ‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç');
        }

        function exportToWord() {
            alert('üìù ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ Microsoft Word...\n\n‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á:\n‚Ä¢ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Office 365 API\n‚Ä¢ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .docx\n‚Ä¢ ‡πÅ‡∏ä‡∏£‡πå‡∏ú‡πà‡∏≤‡∏ô OneDrive');
        }

        function shareWithTeam() {
            alert('üë• ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏ä‡∏£‡πå‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡∏°...\n\n‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á:\n‚Ä¢ ‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡∏°\n‚Ä¢ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á\n‚Ä¢ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô Activity Log');
        }

        // User type functions
        function changeUserType() {
            document.getElementById('userTypeModal').classList.remove('hidden');
        }

        function closeUserTypeModal() {
            document.getElementById('userTypeModal').classList.add('hidden');
        }

        function setUserType(type) {
            currentUserType = type;
            closeUserTypeModal();
            updateUIForUserType(type);
        }

        function updateUIForUserType(type) {
            const userTypeConfigs = {
                student: {
                    title: 'üìö ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤',
                    subtitle: 'Student',
                    headerText: 'üéì Study Assistant for Students',
                    description: '‡∏ä‡πà‡∏ß‡∏¢‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô ‡∏ï‡∏¥‡∏ß‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô',
                    placeholder: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô "‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢"',
                    suggestions: [
                        { title: '‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ', desc: '‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á' },
                        { title: '‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢', desc: '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö' },
                        { title: '‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÅ‡∏ö‡∏ö APA Style', desc: '‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô' },
                        { title: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÑ‡∏ó‡∏¢‡∏™‡∏°‡∏±‡∏¢‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤', desc: '‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç' }
                    ],
                    tools: [
                        { name: 'üìù Citation Helper', desc: '‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á' },
                        { name: 'üßÆ Calculator', desc: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå' },
                        { name: 'üìä Chart Maker', desc: '‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á' }
                    ]
                },
                government: {
                    title: 'üèõÔ∏è ‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£',
                    subtitle: 'Government Official',
                    headerText: 'üéØ Research Assistant for Government Officials',
                    description: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏ó‡∏¢',
                    placeholder: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å ‡πÄ‡∏ä‡πà‡∏ô "‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏°‡πà‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏ó‡∏¢"',
                    suggestions: [
                        { title: '‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏°‡πà', desc: '‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô' },
                        { title: '‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô 2567', desc: '‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î' },
                        { title: '‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢', desc: '‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥' },
                        { title: '‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•', desc: '‡πÅ‡∏ú‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®' }
                    ],
                    tools: [
                        { name: 'üìú Law Search (Sommai)', desc: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ AI' },
                        { name: 'üìã Form Generator', desc: '‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£' },
                        { name: 'üìä Budget Tracker', desc: '‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì' }
                    ]
                },
                business: {
                    title: 'üíº ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó/‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£',
                    subtitle: 'Business Organization',
                    headerText: 'üíº Business Intelligence Assistant',
                    description: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏•‡∏≤‡∏î ‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à',
                    placeholder: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à ‡πÄ‡∏ä‡πà‡∏ô "‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏ï‡∏•‡∏≤‡∏î E-commerce ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢ 2567"',
                    suggestions: [
                        { title: '‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏ï‡∏•‡∏≤‡∏î E-commerce ‡πÑ‡∏ó‡∏¢', desc: '‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡πÅ‡∏•‡∏∞‡πÇ‡∏≠‡∏Å‡∏≤‡∏™' },
                        { title: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°', desc: '‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô' },
                        { title: '‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•', desc: 'PDPA ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à' },
                        { title: '‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÅ‡∏ô‡∏ß‡πÉ‡∏´‡∏°‡πà', desc: '‡πÄ‡∏ó‡∏£‡∏ô‡∏î‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠' }
                    ],
                    tools: [
                        { name: 'üìà Market Analysis', desc: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏•‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°' },
                        { name: 'üè¢ Competitor Research', desc: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á' },
                        { name: 'üí∞ Financial Planning', desc: '‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô' }
                    ]
                },
                researcher: {
                    title: 'üî¨ ‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏à‡∏±‡∏¢',
                    subtitle: 'Researcher',
                    headerText: 'üî¨ Academic Research Assistant',
                    description: '‡∏Ñ‡πâ‡∏ô‡∏Ñ‡∏ß‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å',
                    placeholder: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô "‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏î‡πâ‡∏≤‡∏ô AI ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÑ‡∏ó‡∏¢"',
                    suggestions: [
                        { title: '‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏î‡πâ‡∏≤‡∏ô AI ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤', desc: '‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢' },
                        { title: '‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û', desc: '‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥' },
                        { title: '‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£', desc: '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô' },
                        { title: '‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏∏‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢', desc: '‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏ô' }
                    ],
                    tools: [
                        { name: 'üìö Literature Review', desc: '‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏ß‡∏£‡∏£‡∏ì‡∏Å‡∏£‡∏£‡∏°' },
                        { name: 'üìä Data Analysis', desc: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏¥‡∏à‡∏±‡∏¢' },
                        { name: 'üìù Citation Manager', desc: '‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á' }
                    ]
                },
                general: {
                    title: 'üë§ ‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',
                    subtitle: 'General User',
                    headerText: 'üåü General Knowledge Assistant',
                    description: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô',
                    placeholder: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡πÄ‡∏ä‡πà‡∏ô "‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ù‡∏ô"',
                    suggestions: [
                        { title: '‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ù‡∏ô', desc: '‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡πÑ‡∏ó‡∏¢' },
                        { title: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢', desc: '‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à' },
                        { title: '‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏á‡∏¥‡∏ô', desc: '‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß' },
                        { title: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÑ‡∏ó‡∏¢‡πÜ', desc: '‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û' }
                    ],
                    tools: [
                        { name: 'üåç General Search', desc: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ' },
                        { name: 'üì∞ News Summary', desc: '‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πà‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô' },
                        { name: 'üí° Quick Facts', desc: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥' }
                    ]
                }
            };

            const config = userTypeConfigs[type];
            
            // Update user type badge
            document.querySelector('.user-type-badge span').textContent = config.title.substring(3);
            document.querySelector('.user-type-badge .text-xs').textContent = config.subtitle;

            // Update page header
            document.querySelector('main h1').textContent = config.headerText;
            document.querySelector('main p').textContent = config.description;

            // Update search placeholder
            document.getElementById('mainSearch').placeholder = config.placeholder;

            // Update suggested research
            const suggestionsContainer = document.querySelector('.grid.md\\:grid-cols-2');
            suggestionsContainer.innerHTML = config.suggestions.map(suggestion =>
                `<div class="p-4 border border-gray-200 rounded-lg hover:border-green-300 cursor-pointer" onclick="suggestedSearch('${suggestion.title}')">
                    <div class="font-medium text-gray-900">${suggestion.title}</div>
                    <div class="text-sm text-gray-600 mt-1">${suggestion.desc}</div>
                </div>`
            ).join('');

            // Update tools section (if exists)
            const toolsSection = document.querySelector('.bg-green-50.rounded-lg');
            if (toolsSection) {
                const toolsContainer = toolsSection.querySelector('.space-y-2');
                toolsContainer.innerHTML = config.tools.map(tool =>
                    `<button class="w-full px-3 py-2 bg-white border border-green-200 rounded-lg hover:bg-green-50 text-sm">
                        ${tool.name}
                    </button>`
                ).join('');
            }

            alert(`‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô ${config.title} ‡πÅ‡∏•‡πâ‡∏ß!\n\n‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ü‡∏ã‡∏à‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á${config.subtitle}`);
        }

        // Team dropdown toggle
        function toggleTeamDropdown() {
            alert('üöÄ Team Selector\n\n‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á:\n‚Ä¢ ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\n‚Ä¢ ‡∏™‡∏•‡∏±‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏µ‡∏°\n‚Ä¢ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡∏°‡πÉ‡∏´‡∏°‡πà\n‚Ä¢ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å');
        }

        // Mobile responsiveness
        function initMobileResponsive() {
            const sidebar = document.querySelector('aside:first-of-type');
            const rightPanel = document.querySelector('aside:last-of-type');
            const mainContent = document.querySelector('main');

            // Add mobile menu button if screen is small
            if (window.innerWidth < 768) {
                // Hide sidebars on mobile initially
                sidebar.classList.add('hidden');
                rightPanel.classList.add('hidden');
                
                // Add mobile menu button
                const mobileMenu = document.createElement('button');
                mobileMenu.innerHTML = '<i class="fas fa-bars"></i>';
                mobileMenu.className = 'md:hidden p-2 text-gray-600 hover:text-green-600';
                mobileMenu.onclick = () => {
                    sidebar.classList.toggle('hidden');
                };
                
                // Add to header
                const headerLeft = document.querySelector('header .flex:first-child');
                headerLeft.insertBefore(mobileMenu, headerLeft.firstChild);
            }
        }

        // Search suggestions for different contexts
        const searchSuggestions = {
            government: [
                "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê",
                "‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏ô‡∏≤‡∏¢‡∏Å‡∏£‡∏±‡∏ê‡∏°„É≥„Éà‡∏£‡∏µ",
                "‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á",
                "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£"
            ],
            student: [
                "‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠",
                "‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç‡πÅ‡∏Ñ‡∏•‡∏Ñ‡∏π‡∏•‡∏±‡∏™",
                "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÇ‡∏•‡∏Å‡∏™‡∏°‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà",
                "‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©"
            ],
            business: [
                "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå SWOT Analysis",
                "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• 2567",
                "‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ROI ‡πÅ‡∏•‡∏∞ NPV",
                "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö HR"
            ]
        };

        // Auto-complete search functionality
        function setupSearchAutocomplete() {
            const searchInput = document.getElementById('mainSearch');
            let currentSuggestions = searchSuggestions[currentUserType] || searchSuggestions.government;
            
            searchInput.addEventListener('input', function() {
                const value = this.value.toLowerCase();
                if (value.length > 2) {
                    const matches = currentSuggestions.filter(item => 
                        item.toLowerCase().includes(value)
                    );
                    
                    // Show suggestions (would implement dropdown in real system)
                    if (matches.length > 0) {
                        console.log('Search suggestions:', matches);
                    }
                }
            });
        }

        // Initialize dashboard
        function initDashboard() {
            initMobileResponsive();
            setupSearchAutocomplete();
            
            // Set focus on search
            document.getElementById('mainSearch').focus();
            
            console.log('üöÄ FlowWork Dashboard initialized!');
            console.log('Current user type:', currentUserType);
        }

        // Simulate real-time updates
        function simulateRealTimeUpdates() {
            // Simulate credit updates
            setInterval(() => {
                const creditElement = document.querySelector('.text-green-700.font-semibold');
                let currentCredits = parseInt(creditElement.textContent.replace(',', ''));
                
                // Random small changes
                if (Math.random() > 0.7) {
                    currentCredits += Math.floor(Math.random() * 10) - 5;
                    creditElement.textContent = currentCredits.toLocaleString();
                }
            }, 10000);

            // Simulate team activity
            const activities = [
                "‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏≠ started new research",
                "‡∏û‡∏µ‡πà‡∏ö‡∏µ uploaded document", 
                "‡∏ô‡πâ‡∏≠‡∏á‡∏ã‡∏µ joined meeting",
                "‡∏û‡∏µ‡πà‡πÇ‡∏•‡πà shared findings"
            ];

            setInterval(() => {
                if (Math.random() > 0.8) {
                    const randomActivity = activities[Math.floor(Math.random() * activities.length)];
                    console.log('üì¢ New activity:', randomActivity);
                    
                    // Would update activity feed in real system
                }
            }, 15000);
        }

        // Keyboard shortcuts
        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', function(e) {
                // Ctrl/Cmd + K for quick search
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    document.getElementById('mainSearch').focus();
                }
                
                // Ctrl/Cmd + Shift + N for new document
                if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'N') {
                    e.preventDefault();
                    exportToDoc();
                }
                
                // Escape to close modals
                if (e.key === 'Escape') {
                    closeUserTypeModal();
                }
            });
        }

        // Run when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initDashboard();
            simulateRealTimeUpdates();
            setupKeyboardShortcuts();
            
            // Show welcome message
            setTimeout(() => {
                console.log(`
üöÄ FlowWork Dashboard Demo
=======================
‚ú® ‡∏•‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:
   ‚Ä¢ ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏à‡∏î‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏°‡πà
   ‚Ä¢ ‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô 2567
   
üîß Keyboard Shortcuts:
   ‚Ä¢ Ctrl+K: Focus search
   ‚Ä¢ Ctrl+Shift+N: New document
   ‚Ä¢ Escape: Close modals
   
üë• Features:
   ‚Ä¢ Click user type badge to change
   ‚Ä¢ Try suggested research cards
   ‚Ä¢ Test export functions
                `);
            }, 1000);
        });

        // Handle window resize for responsive behavior
        window.addEventListener('resize', function() {
            if (window.innerWidth >= 768) {
                // Show sidebars on desktop
                document.querySelector('aside:first-of-type').classList.remove('hidden');
                document.querySelector('aside:last-of-type').classList.remove('hidden');
            }
        });

        // Performance monitoring (demo)
        function trackPerformance() {
            // Simulate performance tracking
            setTimeout(() => {
                console.log('üìä Performance Metrics:');
                console.log('‚Ä¢ Page Load Time: 1.2s');
                console.log('‚Ä¢ AI Response Time: 2.1s');
                console.log('‚Ä¢ Credits Used Today: 45');
                console.log('‚Ä¢ User Satisfaction: 94%');
            }, 3000);
        }

        // Start performance tracking
        trackPerformance();
    </script>

    <!-- Add some additional mobile-specific styles -->
    <style>
        @media (max-width: 768px) {
            .desktop-only { display: none !important; }
            
            aside { 
                position: fixed;
                top: 64px;
                left: 0;
                height: calc(100vh - 64px);
                z-index: 40;
                background: white;
                box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            }
            
            main { 
                margin-left: 0 !important;
                width: 100% !important;
            }
            
            .search-input {
                font-size: 16px; /* Prevent zoom on iOS */
            }
        }
        
        @media (max-width: 640px) {
            .text-2xl { font-size: 1.25rem !important; }
            .text-xl { font-size: 1.125rem !important; }
            .text-lg { font-size: 1rem !important; }
            
            .p-6 { padding: 1rem !important; }
            .p-4 { padding: 0.75rem !important; }
            
            .space-x-4 > * + * { margin-left: 0.5rem !important; }
            .space-x-3 > * + * { margin-left: 0.5rem !important; }
        }
        
        /* Loading animations */
        @keyframes pulse-green {
            0%, 100% { background-color: rgb(16, 185, 129); }
            50% { background-color: rgb(5, 150, 105); }
        }
        
        .animate-pulse-green {
            animation: pulse-green 2s ease-in-out infinite;
        }
        
        /* Smooth transitions */
        * {
            transition: all 0.2s ease-in-out;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }
    </style>

    <!-- Add PWA capabilities -->
    <script>
        // Register service worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('üîß ServiceWorker registration successful:', registration.scope);
                }, function(err) {
                    console.log('‚ùå ServiceWorker registration failed:', err);
                });
            });
        }

        // Add to home screen prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button
            const installBtn = document.createElement('button');
            installBtn.innerHTML = 'üì± Install App';
            installBtn.className = 'fixed bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-green-700 z-50';
            installBtn.onclick = async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log(`User response to PWA install prompt: ${outcome}`);
                    deferredPrompt = null;
                    installBtn.remove();
                }
            };
            document.body.appendChild(installBtn);
        });
    </script>

</body>
</html>